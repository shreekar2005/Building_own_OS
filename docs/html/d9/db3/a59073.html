<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OSOS Dev: driver::TimerDriver</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OSOS Dev
   </div>
   <div id="projectbrief">Developed by Shreekar</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/db3/a59073.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d0/d5c/a59070.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">driver::TimerDriver<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Custom <a class="el" href="../../dd/d08/a59041.html" title="Base class (interface) for all hardware drivers with 3 virtual functions. 1)activate 2)reset 3)deacti...">Driver</a> for the 8253/8254 Programmable Interval Timer (PIT).  
 <a href="../../d9/db3/a59073.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="../../d4/d17/a58124_source.html">ktimer.hpp</a>&quot;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for driver::TimerDriver:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dd/db0/a59072.png" border="0" usemap="#adriver_1_1TimerDriver_inherit__map" alt="Inheritance graph"/></div>
<map name="adriver_1_1TimerDriver_inherit__map" id="adriver_1_1TimerDriver_inherit__map">
<area shape="rect" title="Custom Driver for the 8253/8254 Programmable Interval Timer (PIT)." alt="" coords="107,252,364,704"/>
<area shape="rect" href="../../dd/d96/a59137.html" title="Base class (interface) for handling specific CPU interrupts." alt="" coords="5,5,228,204"/>
<area shape="poly" title=" " alt="" coords="155,216,166,251,161,253,150,218"/>
<area shape="rect" href="../../dd/d08/a59041.html" title="Base class (interface) for all hardware drivers with 3 virtual functions. 1)activate 2)reset 3)deacti..." alt="" coords="253,32,458,177"/>
<area shape="poly" title=" " alt="" coords="331,191,311,253,306,251,326,189"/>
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for driver::TimerDriver:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d4/dda/a59071.png" border="0" usemap="#adriver_1_1TimerDriver_coll__map" alt="Collaboration graph"/></div>
<map name="adriver_1_1TimerDriver_coll__map" id="adriver_1_1TimerDriver_coll__map">
<area shape="rect" title="Custom Driver for the 8253/8254 Programmable Interval Timer (PIT)." alt="" coords="257,963,514,1325"/>
<area shape="rect" href="../../dd/d96/a59137.html" title="Base class (interface) for handling specific CPU interrupts." alt="" coords="501,654,723,818"/>
<area shape="poly" title=" " alt="" coords="539,830,490,887,478,899,468,911,441,964,436,961,463,908,474,895,486,883,535,827"/>
<area shape="rect" href="../../db/d40/a59145.html" title="Manages the Interrupt Descriptor Table (IDT) and Programmable Interrupt Controllers (PICs),..." alt="" coords="813,1432,1099,1789"/>
<area shape="poly" title=" " alt="" coords="685,817,732,885,753,923,770,962,787,1015,795,1061,797,1103,796,1143,795,1224,800,1271,813,1325,849,1416,844,1418,808,1326,795,1272,789,1225,790,1143,792,1103,790,1062,782,1016,766,964,748,925,727,888,680,820"/>
<area shape="rect" title=" " alt="" coords="1019,5,1141,71"/>
<area shape="poly" title=" " alt="" coords="1019,43,864,46,673,54,504,71,445,82,426,89,415,97,381,140,360,182,351,224,351,266,359,310,373,358,410,464,425,490,456,533,538,639,534,643,452,536,421,493,406,466,368,359,354,312,346,267,345,223,355,180,376,137,412,93,424,85,444,77,503,65,673,49,864,40,1019,37"/>
<area shape="rect" href="../../d1/d75/a59141.html" title="Represents a single 8&#45;byte entry (gate descriptor) in the Interrupt Descriptor Table (IDT)." alt="" coords="951,323,1134,423"/>
<area shape="poly" title=" " alt="" coords="1021,62,998,76,981,96,963,137,961,172,969,210,981,255,1003,308,998,310,976,257,963,211,956,173,958,135,976,93,995,72,1018,57"/>
<area shape="rect" href="../../d9/d07/a59009.html" title="Represents a single unit of execution (a thread or process) in the OS." alt="" coords="1185,666,1383,806"/>
<area shape="poly" title=" " alt="" coords="1143,68,1166,93,1179,127,1187,171,1192,276,1193,383,1199,465,1224,561,1254,650,1248,651,1219,563,1193,466,1187,383,1187,276,1182,171,1174,128,1162,96,1139,71"/>
<area shape="rect" href="../../d9/d64/a59077.html" title="Represents a single 8&#45;byte segment descriptor entry in the Global Descriptor Table (GDT)." alt="" coords="1683,308,1872,437"/>
<area shape="poly" title=" " alt="" coords="1141,42,1294,60,1367,74,1419,92,1445,111,1464,131,1488,173,1512,215,1530,235,1555,254,1583,265,1608,267,1634,268,1665,278,1697,296,1694,301,1663,282,1633,273,1608,272,1582,270,1552,258,1526,239,1507,218,1483,176,1460,134,1442,115,1416,97,1366,79,1293,65,1141,47"/>
<area shape="poly" title=" " alt="" coords="812,1527,760,1487,709,1439,664,1386,628,1326,615,1287,606,1234,598,1102,598,960,603,834,609,834,604,960,603,1102,612,1233,620,1285,633,1324,668,1383,713,1436,763,1482,815,1523"/>
<area shape="rect" title=" " alt="" coords="1558,5,1687,71"/>
<area shape="poly" title=" " alt="" coords="1688,36,1745,39,1812,48,1881,65,1947,92,2038,145,2075,172,2106,201,2130,234,2148,272,2159,317,2163,371,2163,1145,2161,1166,2154,1187,2131,1227,2093,1265,2044,1301,1985,1335,1917,1368,1761,1427,1590,1479,1417,1523,1254,1558,1116,1585,1115,1580,1253,1553,1416,1518,1589,1474,1759,1422,1915,1363,1982,1330,2041,1296,2090,1261,2126,1224,2149,1185,2155,1165,2157,1145,2157,371,2154,318,2143,274,2126,237,2102,205,2071,176,2035,150,1944,97,1880,70,1811,53,1745,44,1687,41"/>
<area shape="poly" title=" " alt="" coords="1558,43,1472,47,1375,56,1287,72,1253,83,1230,97,1212,114,1202,132,1194,170,1190,211,1183,234,1170,257,1147,287,1121,313,1118,309,1143,283,1166,255,1178,232,1184,210,1189,169,1197,130,1208,111,1226,93,1251,79,1286,67,1374,51,1472,42,1558,38"/>
<area shape="poly" title=" " alt="" coords="1619,72,1609,112,1593,160,1570,211,1539,258,1529,266,1518,270,1509,274,1501,282,1483,319,1476,355,1478,390,1483,423,1488,457,1489,492,1480,527,1458,564,1443,576,1428,579,1413,581,1397,589,1364,619,1336,654,1332,651,1361,616,1395,584,1412,576,1427,574,1441,571,1454,561,1475,525,1483,491,1483,458,1478,424,1473,390,1471,355,1477,318,1497,278,1506,269,1516,265,1526,262,1535,254,1566,209,1588,159,1604,110,1614,70"/>
<area shape="rect" href="../../de/dfa/a59081.html" title="Manages the Global Descriptor Table (GDT), holding segment descriptors for the CPU." alt="" coords="1761,587,1983,885"/>
<area shape="poly" title=" " alt="" coords="1688,50,1777,76,1828,96,1880,121,1930,151,1977,187,2017,230,2049,279,2063,317,2070,357,2069,397,2062,437,2050,477,2034,515,1994,588,1989,585,2029,513,2045,475,2057,436,2064,396,2064,357,2058,319,2044,281,2013,233,1973,191,1927,155,1877,126,1826,101,1775,81,1687,55"/>
<area shape="poly" title=" " alt="" coords="1640,70,1743,292,1738,294,1635,72"/>
<area shape="rect" href="../../d4/d7e/a59161.html" title="Base class for hardware I/O port communication." alt="" coords="729,323,927,423"/>
<area shape="poly" title=" " alt="" coords="1558,44,1429,50,1276,61,1143,76,1097,86,1072,97,1058,115,1053,134,1054,153,1057,174,1062,216,1057,237,1043,258,1031,268,1019,274,994,276,969,275,941,282,892,314,889,310,939,278,969,270,994,270,1017,268,1028,264,1039,254,1052,235,1057,215,1052,174,1048,154,1048,133,1054,112,1069,93,1095,81,1142,71,1276,55,1428,45,1558,39"/>
<area shape="rect" title=" " alt="" coords="25,5,154,71"/>
<area shape="poly" title=" " alt="" coords="90,71,81,234,75,473,77,598,84,714,97,813,106,852,117,884,142,929,173,971,208,1009,246,1043,242,1047,204,1013,169,974,137,932,112,886,101,854,91,813,78,714,72,598,70,473,76,234,84,71"/>
<area shape="poly" title=" " alt="" coords="78,72,57,127,34,201,16,285,8,371,8,1145,14,1207,31,1263,57,1313,93,1359,136,1399,186,1435,241,1466,301,1494,363,1517,428,1537,560,1568,686,1588,797,1599,797,1605,685,1593,559,1573,427,1542,362,1522,299,1499,239,1471,183,1439,133,1403,89,1362,53,1316,26,1265,9,1208,3,1145,3,371,10,284,29,200,52,125,73,70"/>
<area shape="rect" href="../../db/d67/a58158.html#d5/d0f/a59005" title="Represents the state of the CPU registers." alt="" coords="543,280,705,465"/>
<area shape="poly" title=" " alt="" coords="155,67,327,155,428,213,526,278,531,282,528,286,522,282,425,218,324,159,153,72"/>
<area shape="poly" title=" " alt="" coords="1053,423,1081,626,1113,913,1124,1062,1128,1201,1123,1320,1116,1369,1107,1409,1103,1418,1098,1416,1101,1407,1111,1368,1118,1319,1123,1201,1118,1062,1108,913,1076,627,1048,424"/>
<area shape="rect" href="../../db/dbf/a59013.html" title="Manages multitasking and scheduling of threads." alt="" coords="1254,1032,1485,1256"/>
<area shape="poly" title=" " alt="" coords="1276,1258,1143,1410,1112,1444,1108,1441,1139,1406,1272,1255"/>
<area shape="poly" title=" " alt="" coords="1301,806,1345,1015,1340,1016,1296,807"/>
<area shape="poly" title=" " alt="" coords="707,454,719,463,802,512,921,570,1171,683,1169,688,918,575,800,516,716,468,704,458"/>
<area shape="rect" title=" " alt="" coords="1253,340,1361,405"/>
<area shape="poly" title=" " alt="" coords="1302,406,1288,490,1284,572,1283,650,1278,650,1278,572,1283,489,1297,405"/>
<area shape="rect" title=" " alt="" coords="1385,340,1439,405"/>
<area shape="poly" title=" " alt="" coords="1413,406,1405,479,1397,522,1385,564,1366,610,1342,653,1337,651,1361,607,1380,562,1392,520,1400,478,1408,405"/>
<area shape="rect" title=" " alt="" coords="1407,703,1438,769"/>
<area shape="poly" title=" " alt="" coords="1421,769,1389,1016,1383,1015,1416,768"/>
<area shape="poly" title=" " alt="" coords="1763,829,1499,1041,1496,1037,1759,825"/>
<area shape="rect" title=" " alt="" coords="1896,340,2035,405"/>
<area shape="poly" title=" " alt="" coords="1960,406,1917,571,1912,570,1955,405"/>
<area shape="poly" title=" " alt="" coords="1796,437,1828,562,1830,570,1825,571,1823,563,1791,438"/>
<area shape="rect" href="../../d9/d9d/a59169.html" title="Represents a Port8Bit with a forced delay on writes." alt="" coords="894,1069,1085,1219"/>
<area shape="poly" title=" " alt="" coords="978,1220,960,1350,956,1416,951,1416,955,1349,972,1219"/>
<area shape="rect" href="../../d3/dc4/a59165.html" title="Represents an 8&#45;bit (byte&#45;sized) I/O Port." alt="" coords="747,644,930,828"/>
<area shape="poly" title=" " alt="" coords="788,830,765,860,738,887,698,915,662,929,626,942,584,965,528,1007,525,1003,581,960,624,937,660,924,695,910,734,883,761,857,784,826"/>
<area shape="poly" title=" " alt="" coords="880,840,964,1068,959,1070,875,842"/>
<area shape="poly" title=" " alt="" coords="833,436,839,644,833,644,827,437"/>
<area shape="rect" href="../../dd/d08/a59041.html" title="Base class (interface) for all hardware drivers with 3 virtual functions. 1)activate 2)reset 3)deacti..." alt="" coords="127,663,332,809"/>
<area shape="poly" title=" " alt="" coords="264,821,319,962,314,964,259,823"/>
<area shape="rect" title=" " alt="" coords="356,703,476,769"/>
<area shape="poly" title=" " alt="" coords="412,769,399,834,389,910,387,946,382,946,384,909,394,833,406,768"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af195042aa005b100e49e68498ab2e8e2" id="r_af195042aa005b100e49e68498ab2e8e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#af195042aa005b100e49e68498ab2e8e2">TimerDriver</a> (<a class="el" href="../../db/d40/a59145.html">hardware_communication::InterruptManager</a> *<a class="el" href="../../dd/d96/a59137.html#ae86f4eae0ce9272b2027d44bdfd71e33">interrupt_manager</a>, <a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a> <a class="el" href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">frequency</a>=1000)</td></tr>
<tr class="memdesc:af195042aa005b100e49e68498ab2e8e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the Timer <a class="el" href="../../dd/d08/a59041.html" title="Base class (interface) for all hardware drivers with 3 virtual functions. 1)activate 2)reset 3)deacti...">Driver</a>.  <br /></td></tr>
<tr class="separator:af195042aa005b100e49e68498ab2e8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e2ad6e2673bebc2c43cd53bf28fb06" id="r_a30e2ad6e2673bebc2c43cd53bf28fb06"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#a30e2ad6e2673bebc2c43cd53bf28fb06">~TimerDriver</a> ()</td></tr>
<tr class="separator:a30e2ad6e2673bebc2c43cd53bf28fb06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a806626eab2df11fb707c2b9953c73490" id="r_a806626eab2df11fb707c2b9953c73490"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#a806626eab2df11fb707c2b9953c73490">activate</a> () override</td></tr>
<tr class="memdesc:a806626eab2df11fb707c2b9953c73490"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates the timer driver and configures the hardware.  <br /></td></tr>
<tr class="separator:a806626eab2df11fb707c2b9953c73490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c117f370ca9abe5baa645f4dd414d0" id="r_a93c117f370ca9abe5baa645f4dd414d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#a93c117f370ca9abe5baa645f4dd414d0">deactivate</a> () override</td></tr>
<tr class="memdesc:a93c117f370ca9abe5baa645f4dd414d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the timer driver. (Stub)  <br /></td></tr>
<tr class="separator:a93c117f370ca9abe5baa645f4dd414d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d85cf9a4229b6bb9525342dd68275bc" id="r_a3d85cf9a4229b6bb9525342dd68275bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#a3d85cf9a4229b6bb9525342dd68275bc">getFrequency</a> () const</td></tr>
<tr class="memdesc:a3d85cf9a4229b6bb9525342dd68275bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current frequency of the timer.  <br /></td></tr>
<tr class="separator:a3d85cf9a4229b6bb9525342dd68275bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9e7edd6dad273671d1bcf229944295" id="r_a2f9e7edd6dad273671d1bcf229944295"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/da5/a58094.html#a99d27d1b500078b529634bbb3ae8238e">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#a2f9e7edd6dad273671d1bcf229944295">getTicks</a> () const</td></tr>
<tr class="memdesc:a2f9e7edd6dad273671d1bcf229944295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the total number of ticks occurred since the driver was activated.  <br /></td></tr>
<tr class="separator:a2f9e7edd6dad273671d1bcf229944295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe1e7bb5be33c94b3380a32e963db0b" id="r_acbe1e7bb5be33c94b3380a32e963db0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/da5/a58094.html#a99d27d1b500078b529634bbb3ae8238e">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#acbe1e7bb5be33c94b3380a32e963db0b">getUptimeMS</a> () const</td></tr>
<tr class="memdesc:acbe1e7bb5be33c94b3380a32e963db0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the system uptime in milliseconds based on ticks and frequency.  <br /></td></tr>
<tr class="separator:acbe1e7bb5be33c94b3380a32e963db0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5019da35b6dc685feb62f41b6466516" id="r_ac5019da35b6dc685feb62f41b6466516"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#ac5019da35b6dc685feb62f41b6466516">handleInterrupt</a> (<a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a> <a class="el" href="../../d7/d2f/a58112.html#a7534a179bc9cc0ef26f0468e0959ee5c">esp</a>) override</td></tr>
<tr class="memdesc:ac5019da35b6dc685feb62f41b6466516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the timer interrupt (IRQ 0).  <br /></td></tr>
<tr class="separator:ac5019da35b6dc685feb62f41b6466516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa89d41d69840cb4f1c8692fa6ded28f4" id="r_aa89d41d69840cb4f1c8692fa6ded28f4"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d4/da5/a58094.html#a17af2adfe1c356ae7dc1dc1958044779">uintptr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d96/a59137.html#aa89d41d69840cb4f1c8692fa6ded28f4">handleInterrupt</a> (<a class="el" href="../../d4/da5/a58094.html#a17af2adfe1c356ae7dc1dc1958044779">uintptr_t</a> <a class="el" href="../../d7/d2f/a58112.html#a7534a179bc9cc0ef26f0468e0959ee5c">esp</a>)=0</td></tr>
<tr class="separator:aa89d41d69840cb4f1c8692fa6ded28f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38a99b53a4ee9a8b149f568648f7313" id="r_ab38a99b53a4ee9a8b149f568648f7313"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#ab38a99b53a4ee9a8b149f568648f7313">reset</a> () override</td></tr>
<tr class="memdesc:ab38a99b53a4ee9a8b149f568648f7313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the timer. (Stub)  <br /></td></tr>
<tr class="separator:ab38a99b53a4ee9a8b149f568648f7313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7787ae42263b69d671af831bcee133b" id="r_ab7787ae42263b69d671af831bcee133b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#ab7787ae42263b69d671af831bcee133b">sleep</a> (<a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a> milliseconds)</td></tr>
<tr class="memdesc:ab7787ae42263b69d671af831bcee133b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pauses execution for a specific duration.  <br /></td></tr>
<tr class="separator:ab7787ae42263b69d671af831bcee133b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae86f4eae0ce9272b2027d44bdfd71e33" id="r_ae86f4eae0ce9272b2027d44bdfd71e33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d75/a58106.html#a6c5563315b1a2f5c67ae8b78d06e3c7f">InterruptManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d96/a59137.html#ae86f4eae0ce9272b2027d44bdfd71e33">interrupt_manager</a></td></tr>
<tr class="separator:ae86f4eae0ce9272b2027d44bdfd71e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeede822d3e98957e76e627a54ec2f7a" id="r_afeede822d3e98957e76e627a54ec2f7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/da5/a58094.html#a51b491b5f53e010e8644a07933b1781a">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d96/a59137.html#afeede822d3e98957e76e627a54ec2f7a">interruptNumber</a></td></tr>
<tr class="separator:afeede822d3e98957e76e627a54ec2f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7c08f374ef8b97764f917dd433f58b22" id="r_a7c08f374ef8b97764f917dd433f58b22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dc4/a59165.html">hardware_communication::Port8Bit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#a7c08f374ef8b97764f917dd433f58b22">commandPort</a></td></tr>
<tr class="separator:a7c08f374ef8b97764f917dd433f58b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde7169b9c931fd560f38371da3e71fc" id="r_acde7169b9c931fd560f38371da3e71fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dc4/a59165.html">hardware_communication::Port8Bit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#acde7169b9c931fd560f38371da3e71fc">dataPort</a></td></tr>
<tr class="separator:acde7169b9c931fd560f38371da3e71fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318b8edd53fd7fab5d5d3b2ad302cf5d" id="r_a318b8edd53fd7fab5d5d3b2ad302cf5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">frequency</a></td></tr>
<tr class="separator:a318b8edd53fd7fab5d5d3b2ad302cf5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a347d1ba25c5747978be514519e08580b" id="r_a347d1ba25c5747978be514519e08580b"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="../../d4/da5/a58094.html#a99d27d1b500078b529634bbb3ae8238e">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/db3/a59073.html#a347d1ba25c5747978be514519e08580b">ticks</a></td></tr>
<tr class="separator:a347d1ba25c5747978be514519e08580b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Custom <a class="el" href="../../dd/d08/a59041.html" title="Base class (interface) for all hardware drivers with 3 virtual functions. 1)activate 2)reset 3)deacti...">Driver</a> for the 8253/8254 Programmable Interval Timer (PIT). </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d17/a58124_source.html#l00018">18</a> of file <a class="el" href="../../d4/d17/a58124_source.html">ktimer.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af195042aa005b100e49e68498ab2e8e2" name="af195042aa005b100e49e68498ab2e8e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af195042aa005b100e49e68498ab2e8e2">&#9670;&#160;</a></span>TimerDriver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimerDriver::TimerDriver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d40/a59145.html">hardware_communication::InterruptManager</a> *&#160;</td>
          <td class="paramname"><em>interrupt_manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a>&#160;</td>
          <td class="paramname"><em>frequency</em> = <code>1000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the Timer <a class="el" href="../../dd/d08/a59041.html" title="Base class (interface) for all hardware drivers with 3 virtual functions. 1)activate 2)reset 3)deacti...">Driver</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interrupt_manager</td><td>Pointer to the InterruptManager. </td></tr>
    <tr><td class="paramname">frequency</td><td>The desired frequency in Hz (e.g., 1000 for 1ms precision). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00011">11</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span>: <a class="code hl_class" href="../../dd/d96/a59137.html">hardware_communication::InterruptHandler</a>(0x20, <a class="code hl_variable" href="../../dd/d96/a59137.html#ae86f4eae0ce9272b2027d44bdfd71e33">interrupt_manager</a>), <span class="comment">// IRQ 0 maps to 0x20</span></div>
<div class="line"><span class="lineno">   13</span>  <a class="code hl_variable" href="../../d9/db3/a59073.html#acde7169b9c931fd560f38371da3e71fc">dataPort</a>(<a class="code hl_define" href="../../d4/d17/a58124.html#ad55de1ff5ba268d5fb64ef5d1393bcbd">PIT_CHANNEL0_PORT</a>), </div>
<div class="line"><span class="lineno">   14</span>  <a class="code hl_variable" href="../../d9/db3/a59073.html#a7c08f374ef8b97764f917dd433f58b22">commandPort</a>(<a class="code hl_define" href="../../d4/d17/a58124.html#a4566458600827d2a7aa25cc04550d82a">PIT_COMMAND_PORT</a>),</div>
<div class="line"><span class="lineno">   15</span>  <a class="code hl_variable" href="../../d9/db3/a59073.html#a347d1ba25c5747978be514519e08580b">ticks</a>(0),</div>
<div class="line"><span class="lineno">   16</span>  <a class="code hl_variable" href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">frequency</a>(<a class="code hl_variable" href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">frequency</a>)</div>
<div class="line"><span class="lineno">   17</span>{</div>
<div class="line"><span class="lineno">   18</span>}</div>
<div class="ttc" id="aa58124_html_a4566458600827d2a7aa25cc04550d82a"><div class="ttname"><a href="../../d4/d17/a58124.html#a4566458600827d2a7aa25cc04550d82a">PIT_COMMAND_PORT</a></div><div class="ttdeci">#define PIT_COMMAND_PORT</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d17/a58124_source.html#l00010">ktimer.hpp:10</a></div></div>
<div class="ttc" id="aa58124_html_ad55de1ff5ba268d5fb64ef5d1393bcbd"><div class="ttname"><a href="../../d4/d17/a58124.html#ad55de1ff5ba268d5fb64ef5d1393bcbd">PIT_CHANNEL0_PORT</a></div><div class="ttdeci">#define PIT_CHANNEL0_PORT</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d17/a58124_source.html#l00011">ktimer.hpp:11</a></div></div>
<div class="ttc" id="aa59073_html_a318b8edd53fd7fab5d5d3b2ad302cf5d"><div class="ttname"><a href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">driver::TimerDriver::frequency</a></div><div class="ttdeci">uint32_t frequency</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d17/a58124_source.html#l00023">ktimer.hpp:23</a></div></div>
<div class="ttc" id="aa59073_html_a347d1ba25c5747978be514519e08580b"><div class="ttname"><a href="../../d9/db3/a59073.html#a347d1ba25c5747978be514519e08580b">driver::TimerDriver::ticks</a></div><div class="ttdeci">volatile uint64_t ticks</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d17/a58124_source.html#l00022">ktimer.hpp:22</a></div></div>
<div class="ttc" id="aa59073_html_a7c08f374ef8b97764f917dd433f58b22"><div class="ttname"><a href="../../d9/db3/a59073.html#a7c08f374ef8b97764f917dd433f58b22">driver::TimerDriver::commandPort</a></div><div class="ttdeci">hardware_communication::Port8Bit commandPort</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d17/a58124_source.html#l00020">ktimer.hpp:20</a></div></div>
<div class="ttc" id="aa59073_html_acde7169b9c931fd560f38371da3e71fc"><div class="ttname"><a href="../../d9/db3/a59073.html#acde7169b9c931fd560f38371da3e71fc">driver::TimerDriver::dataPort</a></div><div class="ttdeci">hardware_communication::Port8Bit dataPort</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d17/a58124_source.html#l00019">ktimer.hpp:19</a></div></div>
<div class="ttc" id="aa59137_html"><div class="ttname"><a href="../../dd/d96/a59137.html">hardware_communication::InterruptHandler</a></div><div class="ttdoc">Base class (interface) for handling specific CPU interrupts.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d75/a58106_source.html#l00027">kinterrupt.hpp:27</a></div></div>
<div class="ttc" id="aa59137_html_ae86f4eae0ce9272b2027d44bdfd71e33"><div class="ttname"><a href="../../dd/d96/a59137.html#ae86f4eae0ce9272b2027d44bdfd71e33">hardware_communication::InterruptHandler::interrupt_manager</a></div><div class="ttdeci">InterruptManager * interrupt_manager</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d75/a58106_source.html#l00030">kinterrupt.hpp:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a30e2ad6e2673bebc2c43cd53bf28fb06" name="a30e2ad6e2673bebc2c43cd53bf28fb06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e2ad6e2673bebc2c43cd53bf28fb06">&#9670;&#160;</a></span>~TimerDriver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimerDriver::~TimerDriver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00020">20</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   20</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a806626eab2df11fb707c2b9953c73490" name="a806626eab2df11fb707c2b9953c73490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a806626eab2df11fb707c2b9953c73490">&#9670;&#160;</a></span>activate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TimerDriver::activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activates the timer driver and configures the hardware. </p>

<p>Implements <a class="el" href="../../dd/d08/a59041.html#a8c86c1e52652d8b491d37a3b60b535b0">driver::Driver</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00028">28</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span>{</div>
<div class="line"><span class="lineno">   30</span>    <span class="comment">// Calculate the divisor: 1193182 / Target Frequency</span></div>
<div class="line"><span class="lineno">   31</span>    <a class="code hl_typedef" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a> divisor = <a class="code hl_define" href="../../d4/d17/a58124.html#a4963f58f57a5f28715b99c2a016336da">PIT_FREQUENCY_BASE</a> / <a class="code hl_variable" href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">frequency</a>;</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>    <span class="comment">// Send the command byte 0x36 to Port 0x43:</span></div>
<div class="line"><span class="lineno">   34</span>    <span class="comment">// Channel 0, Access mode: lo/hi byte, Mode 3 (Square Wave), Binary mode</span></div>
<div class="line"><span class="lineno">   35</span>    <a class="code hl_variable" href="../../d9/db3/a59073.html#a7c08f374ef8b97764f917dd433f58b22">commandPort</a>.<a class="code hl_function" href="../../d3/dc4/a59165.html#a6ede8fba6ba7e26c5982a91a3d5ffa72">write</a>(0x36);</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>    <span class="comment">// Send the divisor low byte</span></div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_variable" href="../../d9/db3/a59073.html#acde7169b9c931fd560f38371da3e71fc">dataPort</a>.<a class="code hl_function" href="../../d3/dc4/a59165.html#a6ede8fba6ba7e26c5982a91a3d5ffa72">write</a>((<a class="code hl_typedef" href="../../d4/da5/a58094.html#a51b491b5f53e010e8644a07933b1781a">uint8_t</a>)(divisor &amp; 0xFF));</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <span class="comment">// Send the divisor high byte</span></div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_variable" href="../../d9/db3/a59073.html#acde7169b9c931fd560f38371da3e71fc">dataPort</a>.<a class="code hl_function" href="../../d3/dc4/a59165.html#a6ede8fba6ba7e26c5982a91a3d5ffa72">write</a>((<a class="code hl_typedef" href="../../d4/da5/a58094.html#a51b491b5f53e010e8644a07933b1781a">uint8_t</a>)((divisor &gt;&gt; 8) &amp; 0xFF));</div>
<div class="line"><span class="lineno">   42</span>    </div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_function" href="../../d1/d7d/a58155.html#a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</a>(<span class="stringliteral">&quot;Timer Driver activated!\n&quot;</span>);</div>
<div class="line"><span class="lineno">   44</span>}</div>
<div class="ttc" id="aa58094_html_a51b491b5f53e010e8644a07933b1781a"><div class="ttname"><a href="../../d4/da5/a58094.html#a51b491b5f53e010e8644a07933b1781a">uint8_t</a></div><div class="ttdeci">__UINT8_TYPE__ uint8_t</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da5/a58094_source.html#l00011">ktypes.hpp:11</a></div></div>
<div class="ttc" id="aa58094_html_ae008442be20b62c4c3849cb82b2f38f4"><div class="ttname"><a href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a></div><div class="ttdeci">__UINT32_TYPE__ uint32_t</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da5/a58094_source.html#l00017">ktypes.hpp:17</a></div></div>
<div class="ttc" id="aa58124_html_a4963f58f57a5f28715b99c2a016336da"><div class="ttname"><a href="../../d4/d17/a58124.html#a4963f58f57a5f28715b99c2a016336da">PIT_FREQUENCY_BASE</a></div><div class="ttdeci">#define PIT_FREQUENCY_BASE</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d17/a58124_source.html#l00012">ktimer.hpp:12</a></div></div>
<div class="ttc" id="aa58155_html_a45ee52b918a784ff0e96e7c8917a91d9"><div class="ttname"><a href="../../d1/d7d/a58155.html#a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div><div class="ttdoc">A custom implementation of the standard printf function for writing to both VGA text mode memory and ...</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df3/a58037_source.html#l00244">kiostream.cpp:244</a></div></div>
<div class="ttc" id="aa59165_html_a6ede8fba6ba7e26c5982a91a3d5ffa72"><div class="ttname"><a href="../../d3/dc4/a59165.html#a6ede8fba6ba7e26c5982a91a3d5ffa72">hardware_communication::Port8Bit::write</a></div><div class="ttdeci">virtual void write(uint8_t data)</div><div class="ttdoc">Writes an 8-bit value to the I/O port.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d49/a58046_source.html#l00016">kport.cpp:16</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d17/a58124_source.html#l00020">commandPort</a>, <a class="el" href="../../d4/d17/a58124_source.html#l00019">dataPort</a>, <a class="el" href="../../d4/d17/a58124_source.html#l00023">frequency</a>, <a class="el" href="../../d4/d17/a58124_source.html#l00012">PIT_FREQUENCY_BASE</a>, <a class="el" href="../../dc/df3/a58037_source.html#l00244">basic::printf()</a>, and <a class="el" href="../../d2/d49/a58046_source.html#l00016">hardware_communication::Port8Bit::write()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/db3/a59073_a806626eab2df11fb707c2b9953c73490_cgraph.png" border="0" usemap="#ad9/db3/a59073_a806626eab2df11fb707c2b9953c73490_cgraph" alt=""/></div>
<map name="ad9/db3/a59073_a806626eab2df11fb707c2b9953c73490_cgraph" id="ad9/db3/a59073_a806626eab2df11fb707c2b9953c73490_cgraph">
<area shape="rect" title="Activates the timer driver and configures the hardware." alt="" coords="5,201,152,241"/>
<area shape="rect" href="../../d1/d7d/a58155.html#a45ee52b918a784ff0e96e7c8917a91d9" title="A custom implementation of the standard printf function for writing to both VGA text mode memory and ..." alt="" coords="200,132,299,157"/>
<area shape="poly" title=" " alt="" coords="123,198,206,161,208,166,126,203"/>
<area shape="rect" href="../../d3/dc4/a59165.html#a6ede8fba6ba7e26c5982a91a3d5ffa72" title="Writes an 8&#45;bit value to the I/O port." alt="" coords="555,215,745,255"/>
<area shape="poly" title=" " alt="" coords="153,227,347,243,427,246,507,243,541,242,541,247,507,249,427,251,347,249,152,232"/>
<area shape="rect" href="../../d1/d7d/a58155.html#aeacdadb7f1bb76f1452689d0e5cd4dad" title=" " alt="" coords="347,5,507,31"/>
<area shape="poly" title=" " alt="" coords="259,130,295,90,345,48,372,34,374,38,348,52,299,94,263,133"/>
<area shape="rect" href="../../d1/d7d/a58155.html#a84a72638a4a04f5706b7f9b217359ecf" title=" " alt="" coords="584,56,716,81"/>
<area shape="poly" title=" " alt="" coords="268,130,303,109,346,91,403,78,463,70,570,64,570,69,463,75,404,83,347,97,305,114,271,134"/>
<area shape="rect" href="../../d1/d7d/a58155.html#a3d0041ad59dbbae5bc9adbb8ab784499" title=" " alt="" coords="579,144,721,169"/>
<area shape="poly" title=" " alt="" coords="299,143,565,151,565,157,299,149"/>
<area shape="rect" href="../../d1/d7d/a58155.html#a5ecbf4c8112c602ba65a689ebe5014f8" title=" " alt="" coords="367,107,487,132"/>
<area shape="poly" title=" " alt="" coords="298,135,352,127,353,133,299,140"/>
<area shape="rect" href="../../d1/d7d/a58155.html#a9d1f0f838e646660db6d9284725c2b4c" title="Updates the position of the text mode cursor." alt="" coords="349,208,505,233"/>
<area shape="poly" title=" " alt="" coords="279,155,348,186,382,200,379,205,346,191,277,160"/>
<area shape="rect" href="../../d1/d7d/a58155.html#aa7de4c6aa018e049aa8992b037cc052a" title=" " alt="" coords="598,5,702,31"/>
<area shape="poly" title=" " alt="" coords="507,15,584,15,584,21,507,21"/>
<area shape="poly" title=" " alt="" coords="484,28,581,50,579,56,483,33"/>
<area shape="rect" href="../../d1/d7d/a58155.html#a6cfc2f6949fb98dfc419f9fd19f95982" title=" " alt="" coords="816,56,929,81"/>
<area shape="poly" title=" " alt="" coords="716,66,802,66,802,71,716,71"/>
<area shape="rect" href="../../d3/de6/a59061.html#adfb4220d2c664ae5ba11e04d9d182f70" title="Calculates the video memory value for the mouse cursor block." alt="" coords="793,129,952,184"/>
<area shape="poly" title=" " alt="" coords="722,154,779,154,779,159,722,159"/>
<area shape="poly" title=" " alt="" coords="483,104,579,82,581,87,484,109"/>
<area shape="poly" title=" " alt="" coords="488,127,565,140,565,145,487,132"/>
<area shape="poly" title=" " alt="" coords="505,223,541,226,541,231,505,228"/>
</map>
</div>

</div>
</div>
<a id="a93c117f370ca9abe5baa645f4dd414d0" name="a93c117f370ca9abe5baa645f4dd414d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c117f370ca9abe5baa645f4dd414d0">&#9670;&#160;</a></span>deactivate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TimerDriver::deactivate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deactivates the timer driver. (Stub) </p>

<p>Implements <a class="el" href="../../dd/d08/a59041.html#a4b3b5e5a163c2c0e3cb58ea752ebcef1">driver::Driver</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00081">81</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d85cf9a4229b6bb9525342dd68275bc" name="a3d85cf9a4229b6bb9525342dd68275bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d85cf9a4229b6bb9525342dd68275bc">&#9670;&#160;</a></span>getFrequency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a> TimerDriver::getFrequency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current frequency of the timer. </p>
<dl class="section return"><dt>Returns</dt><dd>The frequency in Hz. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00064">64</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>{</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">return</span> this-&gt;<a class="code hl_variable" href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">frequency</a>;</div>
<div class="line"><span class="lineno">   67</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d17/a58124_source.html#l00023">frequency</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/dee/a58034_source.html#l00024">essential::Time::getFrequency()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/db3/a59073_a3d85cf9a4229b6bb9525342dd68275bc_icgraph.png" border="0" usemap="#ad9/db3/a59073_a3d85cf9a4229b6bb9525342dd68275bc_icgraph" alt=""/></div>
<map name="ad9/db3/a59073_a3d85cf9a4229b6bb9525342dd68275bc_icgraph" id="ad9/db3/a59073_a3d85cf9a4229b6bb9525342dd68275bc_icgraph">
<area shape="rect" title="Gets the current frequency of the timer." alt="" coords="272,5,419,45"/>
<area shape="rect" href="../../dc/dd5/a58997.html#a1c02896685efb2fa32e23d25742181ad" title="Get current timer frequency." alt="" coords="5,13,224,38"/>
<area shape="poly" title=" " alt="" coords="258,28,224,28,224,23,258,23"/>
</map>
</div>

</div>
</div>
<a id="a2f9e7edd6dad273671d1bcf229944295" name="a2f9e7edd6dad273671d1bcf229944295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9e7edd6dad273671d1bcf229944295">&#9670;&#160;</a></span>getTicks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/da5/a58094.html#a99d27d1b500078b529634bbb3ae8238e">uint64_t</a> TimerDriver::getTicks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the total number of ticks occurred since the driver was activated. </p>
<dl class="section return"><dt>Returns</dt><dd>The total tick count. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00069">69</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   70</span>{</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">return</span> this-&gt;<a class="code hl_variable" href="../../d9/db3/a59073.html#a347d1ba25c5747978be514519e08580b">ticks</a>;</div>
<div class="line"><span class="lineno">   72</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d17/a58124_source.html#l00022">ticks</a>.</p>

</div>
</div>
<a id="acbe1e7bb5be33c94b3380a32e963db0b" name="acbe1e7bb5be33c94b3380a32e963db0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe1e7bb5be33c94b3380a32e963db0b">&#9670;&#160;</a></span>getUptimeMS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/da5/a58094.html#a99d27d1b500078b529634bbb3ae8238e">uint64_t</a> TimerDriver::getUptimeMS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the system uptime in milliseconds based on ticks and frequency. </p>
<dl class="section return"><dt>Returns</dt><dd>The uptime in milliseconds. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00074">74</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   75</span>{</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">frequency</a> == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">return</span> (<a class="code hl_variable" href="../../d9/db3/a59073.html#a347d1ba25c5747978be514519e08580b">ticks</a> * 1000) / <a class="code hl_variable" href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">frequency</a>;</div>
<div class="line"><span class="lineno">   78</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d17/a58124_source.html#l00023">frequency</a>, and <a class="el" href="../../d4/d17/a58124_source.html#l00022">ticks</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/dee/a58034_source.html#l00017">essential::Time::getUptimeMS()</a>, <a class="el" href="../../d7/d34/a58019_source.html#l00008">task_o()</a>, and <a class="el" href="../../d7/d34/a58019_source.html#l00020">task_X()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/db3/a59073_acbe1e7bb5be33c94b3380a32e963db0b_icgraph.png" border="0" usemap="#ad9/db3/a59073_acbe1e7bb5be33c94b3380a32e963db0b_icgraph" alt=""/></div>
<map name="ad9/db3/a59073_acbe1e7bb5be33c94b3380a32e963db0b_icgraph" id="ad9/db3/a59073_acbe1e7bb5be33c94b3380a32e963db0b_icgraph">
<area shape="rect" title="Calculates the system uptime in milliseconds based on ticks and frequency." alt="" coords="1139,63,1285,103"/>
<area shape="rect" href="../../dc/dd5/a58997.html#accb9cf5ce8744d277bc926476db51d57" title="Get system uptime in milliseconds." alt="" coords="872,17,1091,42"/>
<area shape="poly" title=" " alt="" coords="1125,65,1036,45,1038,39,1126,60"/>
<area shape="rect" href="../../d7/d34/a58019.html#a801da88ec50b03be9b883d3b4fb77fdd" title="function for shell task1 &#45; prints o" alt="" coords="715,70,780,95"/>
<area shape="poly" title=" " alt="" coords="1125,85,780,85,780,80,1125,80"/>
<area shape="rect" href="../../d7/d34/a58019.html#a684a61a1775c2f3e6bcde1b5eb6c05af" title="function for shell task2 &#45; prints x" alt="" coords="516,121,583,146"/>
<area shape="poly" title=" " alt="" coords="1125,92,583,134,583,128,1125,87"/>
<area shape="rect" href="../../d0/de8/a58993.html#a64cee1fd80a35d996188c0034ec26b64" title=" " alt="" coords="671,5,824,45"/>
<area shape="poly" title=" " alt="" coords="858,30,824,29,825,24,858,25"/>
<area shape="rect" href="../../d0/de8/a58993.html#a8aeac1a13eaf02ba12c6d086e804af53" title=" " alt="" coords="476,5,623,45"/>
<area shape="poly" title=" " alt="" coords="657,28,623,28,623,23,657,23"/>
<area shape="rect" href="../../d0/de8/a58993.html#a037a1007b9329e9067abbb3d8e0d128c" title="Called by the Main Thread. Processes keys with interrupts ENABLED." alt="" coords="280,15,428,41"/>
<area shape="poly" title=" " alt="" coords="462,29,428,30,428,24,462,24"/>
<area shape="rect" href="../../d7/d34/a58019.html#ac3a9df5d195991d85f6e1e9416082338" title="this is tail of kernelMain whose CPU state will be preserved" alt="" coords="148,17,232,42"/>
<area shape="poly" title=" " alt="" coords="266,31,232,32,232,26,266,26"/>
<area shape="rect" href="../../d7/d34/a58019.html#abb4e4866092116b520310d61961bfe12" title="Entrypoint for C++ code. we will call this function from assembly." alt="" coords="5,70,100,95"/>
<area shape="poly" title=" " alt="" coords="145,50,87,72,85,68,143,45"/>
<area shape="poly" title=" " alt="" coords="701,85,100,85,100,80,701,80"/>
<area shape="poly" title=" " alt="" coords="502,134,345,124,148,104,100,96,101,90,148,99,345,119,502,129"/>
</map>
</div>

</div>
</div>
<a id="ac5019da35b6dc685feb62f41b6466516" name="ac5019da35b6dc685feb62f41b6466516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5019da35b6dc685feb62f41b6466516">&#9670;&#160;</a></span>handleInterrupt() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a> TimerDriver::handleInterrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a>&#160;</td>
          <td class="paramname"><em>esp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the timer interrupt (IRQ 0). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">esp</td><td>The stack pointer from the interrupt context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The stack pointer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00022">22</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   23</span>{</div>
<div class="line"><span class="lineno">   24</span>    <a class="code hl_variable" href="../../d9/db3/a59073.html#a347d1ba25c5747978be514519e08580b">ticks</a>++;</div>
<div class="line"><span class="lineno">   25</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d7/d2f/a58112.html#a7534a179bc9cc0ef26f0468e0959ee5c">esp</a>;</div>
<div class="line"><span class="lineno">   26</span>}</div>
<div class="ttc" id="aa58112_html_a7534a179bc9cc0ef26f0468e0959ee5c"><div class="ttname"><a href="../../d7/d2f/a58112.html#a7534a179bc9cc0ef26f0468e0959ee5c">esp</a></div><div class="ttdeci">uint32_t esp</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d2f/a58112_source.html#l00010">kmultitasking.hpp:10</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d2f/a58112_source.html#l00010">esp</a>, and <a class="el" href="../../d4/d17/a58124_source.html#l00022">ticks</a>.</p>

</div>
</div>
<a id="aa89d41d69840cb4f1c8692fa6ded28f4" name="aa89d41d69840cb4f1c8692fa6ded28f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa89d41d69840cb4f1c8692fa6ded28f4">&#9670;&#160;</a></span>handleInterrupt() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d4/da5/a58094.html#a17af2adfe1c356ae7dc1dc1958044779">uintptr_t</a> hardware_communication::InterruptHandler::handleInterrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/da5/a58094.html#a17af2adfe1c356ae7dc1dc1958044779">uintptr_t</a>&#160;</td>
          <td class="paramname"><em>esp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../df/d4d/a58049_source.html#l00178">hardware_communication::InterruptManager::handleInterrupt()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dd/d96/a59137_aa89d41d69840cb4f1c8692fa6ded28f4_icgraph.png" border="0" usemap="#add/d96/a59137_aa89d41d69840cb4f1c8692fa6ded28f4_icgraph" alt=""/></div>
<map name="add/d96/a59137_aa89d41d69840cb4f1c8692fa6ded28f4_icgraph" id="add/d96/a59137_aa89d41d69840cb4f1c8692fa6ded28f4_icgraph">
<area shape="rect" title=" " alt="" coords="304,5,549,45"/>
<area shape="rect" href="../../db/d40/a59145.html#af7658bd6006b64012ee544c6fedf6f2f" title="The central interrupt dispatching function called by assembly stubs." alt="" coords="5,5,256,45"/>
<area shape="poly" title=" " alt="" coords="291,28,256,28,256,23,291,23"/>
</map>
</div>

</div>
</div>
<a id="ab38a99b53a4ee9a8b149f568648f7313" name="ab38a99b53a4ee9a8b149f568648f7313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab38a99b53a4ee9a8b149f568648f7313">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TimerDriver::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the timer. (Stub) </p>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0. </dd></dl>

<p>Implements <a class="el" href="../../dd/d08/a59041.html#a98d2e779c02364fc58c172d0d2a32bdd">driver::Driver</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00080">80</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>{ <span class="keywordflow">return</span> 0; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7787ae42263b69d671af831bcee133b" name="ab7787ae42263b69d671af831bcee133b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7787ae42263b69d671af831bcee133b">&#9670;&#160;</a></span>sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimerDriver::sleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a>&#160;</td>
          <td class="paramname"><em>milliseconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pauses execution for a specific duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">milliseconds</td><td>The number of milliseconds to sleep. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/dc0/a58055_source.html#l00046">46</a> of file <a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>{</div>
<div class="line"><span class="lineno">   48</span>    <span class="comment">// Calculate how many ticks we need to wait</span></div>
<div class="line"><span class="lineno">   49</span>    <a class="code hl_typedef" href="../../d4/da5/a58094.html#a99d27d1b500078b529634bbb3ae8238e">uint64_t</a> ticksToWait = (milliseconds * <a class="code hl_variable" href="../../d9/db3/a59073.html#a318b8edd53fd7fab5d5d3b2ad302cf5d">frequency</a>) / 1000;</div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_typedef" href="../../d4/da5/a58094.html#a99d27d1b500078b529634bbb3ae8238e">uint64_t</a> endTicks = <a class="code hl_variable" href="../../d9/db3/a59073.html#a347d1ba25c5747978be514519e08580b">ticks</a> + ticksToWait;</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    <span class="keywordflow">if</span> (milliseconds &lt; 10) { <span class="comment">// 10 is just sweet number, 20ms is time quantum for thread scheduling </span></div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="../../d9/db3/a59073.html#a347d1ba25c5747978be514519e08580b">ticks</a> &lt; endTicks) {</div>
<div class="line"><span class="lineno">   54</span>            <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;hlt&quot;</span>);</div>
<div class="line"><span class="lineno">   55</span>        }</div>
<div class="line"><span class="lineno">   56</span>    } </div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="../../d9/db3/a59073.html#a347d1ba25c5747978be514519e08580b">ticks</a> &lt; endTicks) {</div>
<div class="line"><span class="lineno">   59</span>            <a class="code hl_function" href="../../d6/dc0/a58055.html#a6a4d87290c0a78fdf3e72536bab9a5cb">os_yield</a>();</div>
<div class="line"><span class="lineno">   60</span>        }</div>
<div class="line"><span class="lineno">   61</span>    }</div>
<div class="line"><span class="lineno">   62</span>}</div>
<div class="ttc" id="aa58055_html_a6a4d87290c0a78fdf3e72536bab9a5cb"><div class="ttname"><a href="../../d6/dc0/a58055.html#a6a4d87290c0a78fdf3e72536bab9a5cb">os_yield</a></div><div class="ttdeci">static void os_yield()</div><div class="ttdoc">function that make systemcall 0x80 to forcefully do thread scheduling to next thread</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dc0/a58055_source.html#l00007">ktimer.cpp:7</a></div></div>
<div class="ttc" id="aa58094_html_a99d27d1b500078b529634bbb3ae8238e"><div class="ttname"><a href="../../d4/da5/a58094.html#a99d27d1b500078b529634bbb3ae8238e">uint64_t</a></div><div class="ttdeci">__UINT64_TYPE__ uint64_t</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da5/a58094_source.html#l00020">ktypes.hpp:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d17/a58124_source.html#l00023">frequency</a>, <a class="el" href="../../d6/dc0/a58055_source.html#l00007">os_yield()</a>, and <a class="el" href="../../d4/d17/a58124_source.html#l00022">ticks</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/dee/a58034_source.html#l00011">essential::Time::sleep()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/db3/a59073_ab7787ae42263b69d671af831bcee133b_cgraph.png" border="0" usemap="#ad9/db3/a59073_ab7787ae42263b69d671af831bcee133b_cgraph" alt=""/></div>
<map name="ad9/db3/a59073_ab7787ae42263b69d671af831bcee133b_cgraph" id="ad9/db3/a59073_ab7787ae42263b69d671af831bcee133b_cgraph">
<area shape="rect" title="Pauses execution for a specific duration." alt="" coords="5,5,152,45"/>
<area shape="rect" href="../../d6/dc0/a58055.html#a6a4d87290c0a78fdf3e72536bab9a5cb" title="function that make systemcall 0x80 to forcefully do thread scheduling to next thread" alt="" coords="200,13,276,38"/>
<area shape="poly" title=" " alt="" coords="152,23,186,23,186,28,152,28"/>
</map>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/db3/a59073_ab7787ae42263b69d671af831bcee133b_icgraph.png" border="0" usemap="#ad9/db3/a59073_ab7787ae42263b69d671af831bcee133b_icgraph" alt=""/></div>
<map name="ad9/db3/a59073_ab7787ae42263b69d671af831bcee133b_icgraph" id="ad9/db3/a59073_ab7787ae42263b69d671af831bcee133b_icgraph">
<area shape="rect" title="Pauses execution for a specific duration." alt="" coords="1085,63,1232,103"/>
<area shape="rect" href="../../dc/dd5/a58997.html#a5a1c1b254f7f80e1f696a8c32d5b9412" title="sleep for milliseconds (Blocking)" alt="" coords="872,70,1037,95"/>
<area shape="poly" title=" " alt="" coords="1072,85,1038,85,1038,80,1072,80"/>
<area shape="rect" href="../../d0/de8/a58993.html#a64cee1fd80a35d996188c0034ec26b64" title=" " alt="" coords="671,5,824,45"/>
<area shape="poly" title=" " alt="" coords="894,69,819,48,821,43,895,64"/>
<area shape="rect" href="../../d7/d34/a58019.html#a801da88ec50b03be9b883d3b4fb77fdd" title="function for shell task1 &#45; prints o" alt="" coords="517,70,582,95"/>
<area shape="poly" title=" " alt="" coords="858,85,582,85,582,80,858,80"/>
<area shape="rect" href="../../d7/d34/a58019.html#a684a61a1775c2f3e6bcde1b5eb6c05af" title="function for shell task2 &#45; prints x" alt="" coords="321,121,387,146"/>
<area shape="poly" title=" " alt="" coords="858,93,388,133,387,128,858,88"/>
<area shape="rect" href="../../d0/de8/a58993.html#a8aeac1a13eaf02ba12c6d086e804af53" title=" " alt="" coords="476,5,623,45"/>
<area shape="poly" title=" " alt="" coords="657,28,623,28,623,23,657,23"/>
<area shape="rect" href="../../d0/de8/a58993.html#a037a1007b9329e9067abbb3d8e0d128c" title="Called by the Main Thread. Processes keys with interrupts ENABLED." alt="" coords="280,17,428,42"/>
<area shape="poly" title=" " alt="" coords="462,30,428,30,428,25,462,24"/>
<area shape="rect" href="../../d7/d34/a58019.html#ac3a9df5d195991d85f6e1e9416082338" title="this is tail of kernelMain whose CPU state will be preserved" alt="" coords="148,18,232,43"/>
<area shape="poly" title=" " alt="" coords="266,33,232,33,232,28,266,27"/>
<area shape="rect" href="../../d7/d34/a58019.html#abb4e4866092116b520310d61961bfe12" title="Entrypoint for C++ code. we will call this function from assembly." alt="" coords="5,70,100,95"/>
<area shape="poly" title=" " alt="" coords="144,51,88,72,86,67,142,46"/>
<area shape="poly" title=" " alt="" coords="503,85,100,85,100,80,503,80"/>
<area shape="poly" title=" " alt="" coords="307,129,148,104,100,95,101,90,148,99,308,124"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7c08f374ef8b97764f917dd433f58b22" name="a7c08f374ef8b97764f917dd433f58b22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c08f374ef8b97764f917dd433f58b22">&#9670;&#160;</a></span>commandPort</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dc4/a59165.html">hardware_communication::Port8Bit</a> driver::TimerDriver::commandPort</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d17/a58124_source.html#l00020">20</a> of file <a class="el" href="../../d4/d17/a58124_source.html">ktimer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc0/a58055_source.html#l00028">activate()</a>.</p>

</div>
</div>
<a id="acde7169b9c931fd560f38371da3e71fc" name="acde7169b9c931fd560f38371da3e71fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde7169b9c931fd560f38371da3e71fc">&#9670;&#160;</a></span>dataPort</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dc4/a59165.html">hardware_communication::Port8Bit</a> driver::TimerDriver::dataPort</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d17/a58124_source.html#l00019">19</a> of file <a class="el" href="../../d4/d17/a58124_source.html">ktimer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc0/a58055_source.html#l00028">activate()</a>.</p>

</div>
</div>
<a id="a318b8edd53fd7fab5d5d3b2ad302cf5d" name="a318b8edd53fd7fab5d5d3b2ad302cf5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a318b8edd53fd7fab5d5d3b2ad302cf5d">&#9670;&#160;</a></span>frequency</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/da5/a58094.html#ae008442be20b62c4c3849cb82b2f38f4">uint32_t</a> driver::TimerDriver::frequency</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d17/a58124_source.html#l00023">23</a> of file <a class="el" href="../../d4/d17/a58124_source.html">ktimer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc0/a58055_source.html#l00028">activate()</a>, <a class="el" href="../../d6/dc0/a58055_source.html#l00064">getFrequency()</a>, <a class="el" href="../../d6/dc0/a58055_source.html#l00074">getUptimeMS()</a>, and <a class="el" href="../../d6/dc0/a58055_source.html#l00046">sleep()</a>.</p>

</div>
</div>
<a id="ae86f4eae0ce9272b2027d44bdfd71e33" name="ae86f4eae0ce9272b2027d44bdfd71e33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae86f4eae0ce9272b2027d44bdfd71e33">&#9670;&#160;</a></span>interrupt_manager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d75/a58106.html#a6c5563315b1a2f5c67ae8b78d06e3c7f">InterruptManager</a>* hardware_communication::InterruptHandler::interrupt_manager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d75/a58106_source.html#l00030">30</a> of file <a class="el" href="../../d2/d75/a58106_source.html">kinterrupt.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d4d/a58049_source.html#l00006">hardware_communication::InterruptHandler::InterruptHandler()</a>, and <a class="el" href="../../df/d4d/a58049_source.html#l00013">hardware_communication::InterruptHandler::~InterruptHandler()</a>.</p>

</div>
</div>
<a id="afeede822d3e98957e76e627a54ec2f7a" name="afeede822d3e98957e76e627a54ec2f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeede822d3e98957e76e627a54ec2f7a">&#9670;&#160;</a></span>interruptNumber</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/da5/a58094.html#a51b491b5f53e010e8644a07933b1781a">uint8_t</a> hardware_communication::InterruptHandler::interruptNumber</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d75/a58106_source.html#l00029">29</a> of file <a class="el" href="../../d2/d75/a58106_source.html">kinterrupt.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d4d/a58049_source.html#l00006">hardware_communication::InterruptHandler::InterruptHandler()</a>, and <a class="el" href="../../df/d4d/a58049_source.html#l00013">hardware_communication::InterruptHandler::~InterruptHandler()</a>.</p>

</div>
</div>
<a id="a347d1ba25c5747978be514519e08580b" name="a347d1ba25c5747978be514519e08580b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a347d1ba25c5747978be514519e08580b">&#9670;&#160;</a></span>ticks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="../../d4/da5/a58094.html#a99d27d1b500078b529634bbb3ae8238e">uint64_t</a> driver::TimerDriver::ticks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d17/a58124_source.html#l00022">22</a> of file <a class="el" href="../../d4/d17/a58124_source.html">ktimer.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dc0/a58055_source.html#l00069">getTicks()</a>, <a class="el" href="../../d6/dc0/a58055_source.html#l00074">getUptimeMS()</a>, <a class="el" href="../../d6/dc0/a58055_source.html#l00022">handleInterrupt()</a>, and <a class="el" href="../../d6/dc0/a58055_source.html#l00046">sleep()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d4/d17/a58124_source.html">ktimer.hpp</a></li>
<li><a class="el" href="../../d6/dc0/a58055_source.html">ktimer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d1c/a58159.html">driver</a></li><li class="navelem"><a class="el" href="../../d9/db3/a59073.html">TimerDriver</a></li>
    <li class="footer">Generated on Sun Feb 1 2026 05:52:28 for OSOS Dev by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
