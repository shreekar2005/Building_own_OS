\doxysubsection{driver\+::Mouse\+Driver}
\hypertarget{a19513}{}\label{a19513}\index{driver::MouseDriver@{driver::MouseDriver}}


\doxylink{a19493}{Driver} for the PS/2 mouse, handling 3-\/byte packets and managing mouse state. @inherits \doxylink{a19529}{hardware\+\_\+communication\+::\+Interrupt\+Handler} @inherits \doxylink{a19493}{driver\+::\+Driver}.  




{\ttfamily \#include "{}kmouse.\+hpp"{}}



Inheritance diagram for driver\+::Mouse\+Driver\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d2d/a19512}
\end{center}
\end{figure}


Collaboration diagram for driver\+::Mouse\+Driver\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/df8/a19511}
\end{center}
\end{figure}
\doxysubsubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{a19513_a639956c8ce11d62ee443825e9b9695af}{Mouse\+Driver}} (\mbox{\hyperlink{a19537}{hardware\+\_\+communication\+::\+Interrupt\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{a19529_ae86f4eae0ce9272b2027d44bdfd71e33}{interrupt\+\_\+manager}}, \mbox{\hyperlink{a19509}{Mouse\+Event\+Handler}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{a19513_a804f5657a062e0a18f3b56781f884c66}{mouse\+Event\+Handler}})
\begin{DoxyCompactList}\small\item\em Constructs a new \doxylink{a19513}{Mouse\+Driver} object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a19513_a8c25e4a4b42d1d39b332ba6d4cbd6a22}{\texorpdfstring{$\sim$}{\string~}\+Mouse\+Driver}} ()
\begin{DoxyCompactList}\small\item\em Destroys the \doxylink{a19513}{Mouse\+Driver} object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{a19513_a446769df0b3b537a525476c7c8be47bc}{activate}} () override
\begin{DoxyCompactList}\small\item\em Activates the mouse driver. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{a19513_a4329c1cdedc72adf0b95cb3911c4acf6}{deactivate}} () override
\begin{DoxyCompactList}\small\item\em Deactivates the mouse driver. (Stub) \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{a19513_a1b2f08490b7954e5ca504cd8bb6862c0}{handle\+Interrupt}} (uint32\+\_\+t esp) override
\begin{DoxyCompactList}\small\item\em Handles the mouse interrupt (IRQ 12). \end{DoxyCompactList}\item 
virtual uintptr\+\_\+t \mbox{\hyperlink{a19529_aa89d41d69840cb4f1c8692fa6ded28f4}{handle\+Interrupt}} (uintptr\+\_\+t esp)=0
\item 
int \mbox{\hyperlink{a19513_aabe3740996bf70fda96f0a25228954a6}{reset}} () override
\begin{DoxyCompactList}\small\item\em Resets the mouse. (Stub) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static uint16\+\_\+t \mbox{\hyperlink{a19513_a1a2a455ca7146dea3148afa8cb6c9ed5}{mouse\+\_\+block\+\_\+video\+\_\+mem\+\_\+value}} (uint16\+\_\+t \mbox{\hyperlink{a19513_a4a671e7e2b235f6bec473cb960401bd6}{old\+\_\+char\+\_\+under\+\_\+mouse\+\_\+pointer}}, uint8\+\_\+t mouse\+\_\+pointer\+\_\+color)
\begin{DoxyCompactList}\small\item\em Calculates the video memory value for the mouse cursor block. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static int8\+\_\+t \mbox{\hyperlink{a19513_ac2077f6309c79d5f585fb966b57fe065}{\+\_\+\+\_\+mouse\+\_\+x\+\_\+}} = -\/1
\item 
static int8\+\_\+t \mbox{\hyperlink{a19513_aa02009b37420687ef18db8a05ff9181f}{\+\_\+\+\_\+mouse\+\_\+y\+\_\+}} = -\/1
\item 
static uint16\+\_\+t \mbox{\hyperlink{a19513_a4a671e7e2b235f6bec473cb960401bd6}{old\+\_\+char\+\_\+under\+\_\+mouse\+\_\+pointer}}
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{a18569_a6c5563315b1a2f5c67ae8b78d06e3c7f}{Interrupt\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{a19529_ae86f4eae0ce9272b2027d44bdfd71e33}{interrupt\+\_\+manager}}
\item 
uint8\+\_\+t \mbox{\hyperlink{a19529_afeede822d3e98957e76e627a54ec2f7a}{interrupt\+Number}}
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int8\+\_\+t \mbox{\hyperlink{a19513_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}} \mbox{[}3\mbox{]}
\item 
uint8\+\_\+t \mbox{\hyperlink{a19513_a7942997bd5ead2767e9627d91789dd70}{buttons}}
\item 
\mbox{\hyperlink{a19545}{hardware\+\_\+communication\+::\+Port8\+Bit}} \mbox{\hyperlink{a19513_a2877a9f46dd83a5f05f17fd83a0a7725}{command\+Port}}
\item 
\mbox{\hyperlink{a19545}{hardware\+\_\+communication\+::\+Port8\+Bit}} \mbox{\hyperlink{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046}{data\+Port}}
\item 
\mbox{\hyperlink{a19509}{Mouse\+Event\+Handler}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{a19513_a804f5657a062e0a18f3b56781f884c66}{mouse\+Event\+Handler}}
\item 
uint8\+\_\+t \mbox{\hyperlink{a19513_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
\doxylink{a19493}{Driver} for the PS/2 mouse, handling 3-\/byte packets and managing mouse state. @inherits \doxylink{a19529}{hardware\+\_\+communication\+::\+Interrupt\+Handler} @inherits \doxylink{a19493}{driver\+::\+Driver}. 

Definition at line \mbox{\hyperlink{a18578_source_l00042}{42}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.



\doxysubsubsection{Constructor \& Destructor Documentation}
\Hypertarget{a19513_a639956c8ce11d62ee443825e9b9695af}\label{a19513_a639956c8ce11d62ee443825e9b9695af} 
\index{driver::MouseDriver@{driver::MouseDriver}!MouseDriver@{MouseDriver}}
\index{MouseDriver@{MouseDriver}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{MouseDriver()}{MouseDriver()}}
{\footnotesize\ttfamily driver\+::\+Mouse\+Driver\+::\+Mouse\+Driver (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a19537}{hardware\+\_\+communication\+::\+Interrupt\+Manager}} \texorpdfstring{$\ast$}{*}}]{interrupt\+\_\+manager,  }\item[{\mbox{\hyperlink{a19509}{driver\+::\+Mouse\+Event\+Handler}} \texorpdfstring{$\ast$}{*}}]{mouse\+Event\+Handler }\end{DoxyParamCaption})}



Constructs a new \doxylink{a19513}{Mouse\+Driver} object. 


\begin{DoxyParams}{Parameters}
{\em interrupt\+\_\+manager} & Pointer to the interrupt manager. \\
\hline
{\em mouse\+Event\+Handler} & Pointer to the event handler that will process mouse events. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{a18608_source_l00031}{31}} of file \mbox{\hyperlink{a18608_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032\ :\ \mbox{\hyperlink{a19529}{hardware\_communication::InterruptHandler}}(0x2C,\ \mbox{\hyperlink{a19529_ae86f4eae0ce9272b2027d44bdfd71e33}{interrupt\_manager}}),\ }
\DoxyCodeLine{00033\ \ \ \mbox{\hyperlink{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}(0x60),\ }
\DoxyCodeLine{00034\ \ \ \mbox{\hyperlink{a19513_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}(0x64)}
\DoxyCodeLine{00035\ \{}
\DoxyCodeLine{00036\ \ \ \ \ this-\/>mouseEventHandler\ =\ \mbox{\hyperlink{a19513_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}};}
\DoxyCodeLine{00037\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{a18578_source_l00048}{mouse\+Event\+Handler}}.

\Hypertarget{a19513_a8c25e4a4b42d1d39b332ba6d4cbd6a22}\label{a19513_a8c25e4a4b42d1d39b332ba6d4cbd6a22} 
\index{driver::MouseDriver@{driver::MouseDriver}!````~MouseDriver@{\texorpdfstring{$\sim$}{\string~}MouseDriver}}
\index{````~MouseDriver@{\texorpdfstring{$\sim$}{\string~}MouseDriver}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}MouseDriver()}{\string~MouseDriver()}}
{\footnotesize\ttfamily driver\+::\+Mouse\+Driver\+::\texorpdfstring{$\sim$}{\string~}\+Mouse\+Driver (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destroys the \doxylink{a19513}{Mouse\+Driver} object. 



Definition at line \mbox{\hyperlink{a18608_source_l00040}{40}} of file \mbox{\hyperlink{a18608_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00040\ \{\}}

\end{DoxyCode}


\doxysubsubsection{Member Function Documentation}
\Hypertarget{a19513_a446769df0b3b537a525476c7c8be47bc}\label{a19513_a446769df0b3b537a525476c7c8be47bc} 
\index{driver::MouseDriver@{driver::MouseDriver}!activate@{activate}}
\index{activate@{activate}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{activate()}{activate()}}
{\footnotesize\ttfamily void driver\+::\+Mouse\+Driver\+::activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Activates the mouse driver. 



Implements \mbox{\hyperlink{a19493_a8c86c1e52652d8b491d37a3b60b535b0}{driver\+::\+Driver}}.



Definition at line \mbox{\hyperlink{a18608_source_l00088}{88}} of file \mbox{\hyperlink{a18608_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{while}(\mbox{\hyperlink{a19513_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a19545_ae8688251b574c3fd335b99f7e93fff2d}{read}}()\ \&\ 1)\ \mbox{\hyperlink{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a19545_ae8688251b574c3fd335b99f7e93fff2d}{read}}();}
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{a19513_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}\ =\ 0;}
\DoxyCodeLine{00091\ \ \ \ \ \mbox{\hyperlink{a19513_a7942997bd5ead2767e9627d91789dd70}{buttons}}\ =\ 0;}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{a19513_ac2077f6309c79d5f585fb966b57fe065}{\_\_mouse\_x\_}}\ =\ 40;}
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{a19513_aa02009b37420687ef18db8a05ff9181f}{\_\_mouse\_y\_}}\ =\ 12;}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{static}\ uint16\_t*\ video\_memory\ =\ (uint16\_t*)\ 0xb8000;}
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{a19513_a4a671e7e2b235f6bec473cb960401bd6}{old\_char\_under\_mouse\_pointer}}\ =\ video\_memory[80\ *\ \mbox{\hyperlink{a19513_aa02009b37420687ef18db8a05ff9181f}{\_\_mouse\_y\_}}\ +\ \mbox{\hyperlink{a19513_ac2077f6309c79d5f585fb966b57fe065}{\_\_mouse\_x\_}}];}
\DoxyCodeLine{00097\ \ \ \ \ video\_memory[80\ *\ \mbox{\hyperlink{a19513_aa02009b37420687ef18db8a05ff9181f}{\_\_mouse\_y\_}}\ +\ \mbox{\hyperlink{a19513_ac2077f6309c79d5f585fb966b57fe065}{\_\_mouse\_x\_}}]\ =\ \mbox{\hyperlink{a19513_a1a2a455ca7146dea3148afa8cb6c9ed5}{mouse\_block\_video\_mem\_value}}(\mbox{\hyperlink{a19513_a4a671e7e2b235f6bec473cb960401bd6}{old\_char\_under\_mouse\_pointer}},\ \mbox{\hyperlink{a18578_a637dd833f5f7af42afa1f42349a4d89e}{MOUSE\_POINTER\_COLOR}});}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ Enable\ the\ auxiliary\ mouse\ device}}
\DoxyCodeLine{00100\ \ \ \ \ \mbox{\hyperlink{a19513_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a19545_a523b6a757b27418dc015ed13e74bef60}{write}}(0xA8);\ }
\DoxyCodeLine{00101\ \ \ \ \ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Enable\ the\ interrupts\ for\ the\ mouse}}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{a19513_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a19545_a523b6a757b27418dc015ed13e74bef60}{write}}(0x20);\ }
\DoxyCodeLine{00104\ \ \ \ \ uint8\_t\ status\ =\ (\mbox{\hyperlink{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a19545_ae8688251b574c3fd335b99f7e93fff2d}{read}}()\ |\ 2);\ }
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{a19513_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a19545_a523b6a757b27418dc015ed13e74bef60}{write}}(0x60);}
\DoxyCodeLine{00106\ \ \ \ \ \mbox{\hyperlink{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a19545_a523b6a757b27418dc015ed13e74bef60}{write}}(status);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ Set\ mouse\ to\ use\ default\ settings\ and\ enable\ packet\ streaming}}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{a19513_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a19545_a523b6a757b27418dc015ed13e74bef60}{write}}(0xD4);}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a19545_a523b6a757b27418dc015ed13e74bef60}{write}}(0xF4);}
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a19545_ae8688251b574c3fd335b99f7e93fff2d}{read}}();\ \textcolor{comment}{//\ Acknowledge}}
\DoxyCodeLine{00112\ \ \ \ \ }
\DoxyCodeLine{00113\ \ \ \ \ \mbox{\hyperlink{a18618_a45ee52b918a784ff0e96e7c8917a91d9}{basic::printf}}(\textcolor{stringliteral}{"{}Mouse\ Driver\ activated!\(\backslash\)n"{}});}
\DoxyCodeLine{00114\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{a18578_source_l00025}{MOUSE\+\_\+\+POINTER\+\_\+\+COLOR}}, and \mbox{\hyperlink{a18593_source_l00306}{basic\+::printf()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d33/a19513_a446769df0b3b537a525476c7c8be47bc_cgraph}
\end{center}
\end{figure}
\Hypertarget{a19513_a4329c1cdedc72adf0b95cb3911c4acf6}\label{a19513_a4329c1cdedc72adf0b95cb3911c4acf6} 
\index{driver::MouseDriver@{driver::MouseDriver}!deactivate@{deactivate}}
\index{deactivate@{deactivate}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{deactivate()}{deactivate()}}
{\footnotesize\ttfamily void driver\+::\+Mouse\+Driver\+::deactivate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Deactivates the mouse driver. (Stub) 



Implements \mbox{\hyperlink{a19493_a4b3b5e5a163c2c0e3cb58ea752ebcef1}{driver\+::\+Driver}}.



Definition at line \mbox{\hyperlink{a18608_source_l00120}{120}} of file \mbox{\hyperlink{a18608_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00120\ \{\}}

\end{DoxyCode}
\Hypertarget{a19513_a1b2f08490b7954e5ca504cd8bb6862c0}\label{a19513_a1b2f08490b7954e5ca504cd8bb6862c0} 
\index{driver::MouseDriver@{driver::MouseDriver}!handleInterrupt@{handleInterrupt}}
\index{handleInterrupt@{handleInterrupt}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{handleInterrupt()}{handleInterrupt()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily uint32\+\_\+t driver\+::\+Mouse\+Driver\+::handle\+Interrupt (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{esp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Handles the mouse interrupt (IRQ 12). 


\begin{DoxyParams}{Parameters}
{\em esp} & The stack pointer from the interrupt context. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The stack pointer. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{a18608_source_l00045}{45}} of file \mbox{\hyperlink{a18608_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ mouse\ has\ sent\ data}}
\DoxyCodeLine{00047\ \ \ \ \ uint8\_t\ status\ =\ \mbox{\hyperlink{a19513_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a19545_ae8688251b574c3fd335b99f7e93fff2d}{read}}();}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}(!(status\ \&\ 0x20))\ \textcolor{keywordflow}{return}\ esp;}
\DoxyCodeLine{00049\ \ \ \ \ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{comment}{//\ Read\ the\ next\ byte\ of\ the\ packet}}
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{a19513_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[\mbox{\hyperlink{a19513_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}]\ =\ \mbox{\hyperlink{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a19545_ae8688251b574c3fd335b99f7e93fff2d}{read}}();}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{a19513_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}\ =\ (\mbox{\hyperlink{a19513_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}\ +\ 1)\ \%\ 3;}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ When\ a\ full\ 3-\/byte\ packet\ is\ received}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{a19513_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}\ ==\ 0)\{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{a19513_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}}\ ==\ 0)\ \textcolor{keywordflow}{return}\ esp;\ \textcolor{comment}{//\ Do\ nothing\ without\ a\ handler}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/\ Handle\ Mouse\ Movement\ -\/-\/-\/}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ int8\_t\ delta\_x\ =\ \mbox{\hyperlink{a19513_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[1];}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ int8\_t\ delta\_y\ =\ -\/\mbox{\hyperlink{a19513_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[2];\ \textcolor{comment}{//\ Y-\/axis\ is\ inverted\ from\ the\ mouse's\ perspective}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (delta\_x\ !=\ 0\ ||\ delta\_y\ !=\ 0)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{a19513_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}}-\/>\mbox{\hyperlink{a19509_a68f635b3b65f927d37d4e0835f7e0b30}{onMouseMove}}(delta\_x,\ delta\_y);}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/\ Handle\ Mouse\ Buttons\ -\/-\/-\/}}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(uint8\_t\ i\ =\ 0;\ i\ <\ 3;\ i++)\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ state\ of\ button\ 'i'\ has\ changed}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}((\mbox{\hyperlink{a19513_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[0]\ \&\ (1\ <<\ i))\ !=\ (\mbox{\hyperlink{a19513_a7942997bd5ead2767e9627d91789dd70}{buttons}}\ \&\ (1\ <<\ i)))\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{a19513_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[0]\ \&\ (1\ <<\ i))\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{a19513_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}}-\/>\mbox{\hyperlink{a19509_a2f12c5f63356c3045fd6cb46fd89374f}{onMouseDown}}(i\ +\ 1);\ \textcolor{comment}{//\ Left=1,\ Right=2,\ Middle=3}}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{a19513_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}}-\/>\mbox{\hyperlink{a19509_a09b77fe86bfa79313b5c5b91d09eb514}{onMouseUp}}(i\ +\ 1);}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{a19513_a7942997bd5ead2767e9627d91789dd70}{buttons}}\ =\ \mbox{\hyperlink{a19513_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[0];\ \textcolor{comment}{//\ Save\ the\ current\ button\ state\ for\ the\ next\ interrupt}}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordflow}{return}\ esp;}
\DoxyCodeLine{00081\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{a19509_a68f635b3b65f927d37d4e0835f7e0b30}{driver\+::\+Mouse\+Event\+Handler\+::on\+Mouse\+Move()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d33/a19513_a1b2f08490b7954e5ca504cd8bb6862c0_cgraph}
\end{center}
\end{figure}
\Hypertarget{a19529_aa89d41d69840cb4f1c8692fa6ded28f4}\label{a19529_aa89d41d69840cb4f1c8692fa6ded28f4} 
\index{driver::MouseDriver@{driver::MouseDriver}!handleInterrupt@{handleInterrupt}}
\index{handleInterrupt@{handleInterrupt}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{handleInterrupt()}{handleInterrupt()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual uintptr\+\_\+t hardware\+\_\+communication\+::\+Interrupt\+Handler\+::handle\+Interrupt (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{esp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}, {\ttfamily [inherited]}}



Referenced by \mbox{\hyperlink{a18599_source_l00185}{hardware\+\_\+communication\+::\+Interrupt\+Manager\+::handle\+Interrupt()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dd/d18/a19529_aa89d41d69840cb4f1c8692fa6ded28f4_icgraph}
\end{center}
\end{figure}
\Hypertarget{a19513_a1a2a455ca7146dea3148afa8cb6c9ed5}\label{a19513_a1a2a455ca7146dea3148afa8cb6c9ed5} 
\index{driver::MouseDriver@{driver::MouseDriver}!mouse\_block\_video\_mem\_value@{mouse\_block\_video\_mem\_value}}
\index{mouse\_block\_video\_mem\_value@{mouse\_block\_video\_mem\_value}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{mouse\_block\_video\_mem\_value()}{mouse\_block\_video\_mem\_value()}}
{\footnotesize\ttfamily uint16\+\_\+t driver\+::\+Mouse\+Driver\+::mouse\+\_\+block\+\_\+video\+\_\+mem\+\_\+value (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{current\+\_\+char,  }\item[{uint8\+\_\+t}]{mouse\+\_\+pointer\+\_\+color }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calculates the video memory value for the mouse cursor block. 


\begin{DoxyParams}{Parameters}
{\em current\+\_\+char} & The original character attributes and ASCII value at the cursor position. \\
\hline
{\em mouse\+\_\+pointer\+\_\+color} & The desired background color for the mouse pointer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new 16-\/bit video memory value representing the character with the new background color. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{a18608_source_l00023}{23}} of file \mbox{\hyperlink{a18608_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordflow}{return}\ (current\_char\ \&\ 0x0FFF)\ |\ (mouse\_pointer\_color\ <<\ 12);}
\DoxyCodeLine{00025\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{a18557_source_l00060}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Move()}}, and \mbox{\hyperlink{a18593_source_l00050}{print\+Char\+Str()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d33/a19513_a1a2a455ca7146dea3148afa8cb6c9ed5_icgraph}
\end{center}
\end{figure}
\Hypertarget{a19513_aabe3740996bf70fda96f0a25228954a6}\label{a19513_aabe3740996bf70fda96f0a25228954a6} 
\index{driver::MouseDriver@{driver::MouseDriver}!reset@{reset}}
\index{reset@{reset}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily int driver\+::\+Mouse\+Driver\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Resets the mouse. (Stub) 

\begin{DoxyReturn}{Returns}
Always returns 0. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{a19493_a98d2e779c02364fc58c172d0d2a32bdd}{driver\+::\+Driver}}.



Definition at line \mbox{\hyperlink{a18608_source_l00118}{118}} of file \mbox{\hyperlink{a18608_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118\ \{\textcolor{keywordflow}{return}\ 0;\}}

\end{DoxyCode}


\doxysubsubsection{Member Data Documentation}
\Hypertarget{a19513_ac2077f6309c79d5f585fb966b57fe065}\label{a19513_ac2077f6309c79d5f585fb966b57fe065} 
\index{driver::MouseDriver@{driver::MouseDriver}!\_\_mouse\_x\_@{\_\_mouse\_x\_}}
\index{\_\_mouse\_x\_@{\_\_mouse\_x\_}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{\_\_mouse\_x\_}{\_\_mouse\_x\_}}
{\footnotesize\ttfamily int8\+\_\+t driver\+::\+Mouse\+Driver\+::\+\_\+\+\_\+mouse\+\_\+x\+\_\+ = -\/1\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{a18578_source_l00053}{53}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.



Referenced by \mbox{\hyperlink{a18557_source_l00044}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Down()}}, \mbox{\hyperlink{a18557_source_l00060}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Move()}}, and \mbox{\hyperlink{a18593_source_l00050}{print\+Char\+Str()}}.

\Hypertarget{a19513_aa02009b37420687ef18db8a05ff9181f}\label{a19513_aa02009b37420687ef18db8a05ff9181f} 
\index{driver::MouseDriver@{driver::MouseDriver}!\_\_mouse\_y\_@{\_\_mouse\_y\_}}
\index{\_\_mouse\_y\_@{\_\_mouse\_y\_}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{\_\_mouse\_y\_}{\_\_mouse\_y\_}}
{\footnotesize\ttfamily int8\+\_\+t driver\+::\+Mouse\+Driver\+::\+\_\+\+\_\+mouse\+\_\+y\+\_\+ = -\/1\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{a18578_source_l00053}{53}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.



Referenced by \mbox{\hyperlink{a18557_source_l00044}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Down()}}, \mbox{\hyperlink{a18557_source_l00060}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Move()}}, and \mbox{\hyperlink{a18593_source_l00050}{print\+Char\+Str()}}.

\Hypertarget{a19513_aaa1d55d296d88995ac49a8a9a75a79d4}\label{a19513_aaa1d55d296d88995ac49a8a9a75a79d4} 
\index{driver::MouseDriver@{driver::MouseDriver}!buffer@{buffer}}
\index{buffer@{buffer}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{buffer}{buffer}}
{\footnotesize\ttfamily int8\+\_\+t driver\+::\+Mouse\+Driver\+::buffer\mbox{[}3\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a18578_source_l00045}{45}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.

\Hypertarget{a19513_a7942997bd5ead2767e9627d91789dd70}\label{a19513_a7942997bd5ead2767e9627d91789dd70} 
\index{driver::MouseDriver@{driver::MouseDriver}!buttons@{buttons}}
\index{buttons@{buttons}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{buttons}{buttons}}
{\footnotesize\ttfamily uint8\+\_\+t driver\+::\+Mouse\+Driver\+::buttons\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a18578_source_l00047}{47}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.

\Hypertarget{a19513_a2877a9f46dd83a5f05f17fd83a0a7725}\label{a19513_a2877a9f46dd83a5f05f17fd83a0a7725} 
\index{driver::MouseDriver@{driver::MouseDriver}!commandPort@{commandPort}}
\index{commandPort@{commandPort}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{commandPort}{commandPort}}
{\footnotesize\ttfamily \mbox{\hyperlink{a19545}{hardware\+\_\+communication\+::\+Port8\+Bit}} driver\+::\+Mouse\+Driver\+::command\+Port\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a18578_source_l00044}{44}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.

\Hypertarget{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046}\label{a19513_a8e30a6f6c5839fcf9c3ab63aa167d046} 
\index{driver::MouseDriver@{driver::MouseDriver}!dataPort@{dataPort}}
\index{dataPort@{dataPort}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{dataPort}{dataPort}}
{\footnotesize\ttfamily \mbox{\hyperlink{a19545}{hardware\+\_\+communication\+::\+Port8\+Bit}} driver\+::\+Mouse\+Driver\+::data\+Port\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a18578_source_l00043}{43}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.

\Hypertarget{a19529_ae86f4eae0ce9272b2027d44bdfd71e33}\label{a19529_ae86f4eae0ce9272b2027d44bdfd71e33} 
\index{driver::MouseDriver@{driver::MouseDriver}!interrupt\_manager@{interrupt\_manager}}
\index{interrupt\_manager@{interrupt\_manager}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{interrupt\_manager}{interrupt\_manager}}
{\footnotesize\ttfamily \mbox{\hyperlink{a18569_a6c5563315b1a2f5c67ae8b78d06e3c7f}{Interrupt\+Manager}}\texorpdfstring{$\ast$}{*} hardware\+\_\+communication\+::\+Interrupt\+Handler\+::interrupt\+\_\+manager\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [inherited]}}



Definition at line \mbox{\hyperlink{a18569_source_l00025}{25}} of file \mbox{\hyperlink{a18569_source}{kinterrupt.\+hpp}}.



Referenced by \mbox{\hyperlink{a18599_source_l00006}{hardware\+\_\+communication\+::\+Interrupt\+Handler\+::\+Interrupt\+Handler()}}.

\Hypertarget{a19529_afeede822d3e98957e76e627a54ec2f7a}\label{a19529_afeede822d3e98957e76e627a54ec2f7a} 
\index{driver::MouseDriver@{driver::MouseDriver}!interruptNumber@{interruptNumber}}
\index{interruptNumber@{interruptNumber}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{interruptNumber}{interruptNumber}}
{\footnotesize\ttfamily uint8\+\_\+t hardware\+\_\+communication\+::\+Interrupt\+Handler\+::interrupt\+Number\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [inherited]}}



Definition at line \mbox{\hyperlink{a18569_source_l00024}{24}} of file \mbox{\hyperlink{a18569_source}{kinterrupt.\+hpp}}.



Referenced by \mbox{\hyperlink{a18599_source_l00006}{hardware\+\_\+communication\+::\+Interrupt\+Handler\+::\+Interrupt\+Handler()}}.

\Hypertarget{a19513_a804f5657a062e0a18f3b56781f884c66}\label{a19513_a804f5657a062e0a18f3b56781f884c66} 
\index{driver::MouseDriver@{driver::MouseDriver}!mouseEventHandler@{mouseEventHandler}}
\index{mouseEventHandler@{mouseEventHandler}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{mouseEventHandler}{mouseEventHandler}}
{\footnotesize\ttfamily \mbox{\hyperlink{a19509}{Mouse\+Event\+Handler}}\texorpdfstring{$\ast$}{*} driver\+::\+Mouse\+Driver\+::mouse\+Event\+Handler\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a18578_source_l00048}{48}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.



Referenced by \mbox{\hyperlink{a18608_source_l00031}{Mouse\+Driver()}}.

\Hypertarget{a19513_a313426dd9aa1af1540cbffc2e77c58c1}\label{a19513_a313426dd9aa1af1540cbffc2e77c58c1} 
\index{driver::MouseDriver@{driver::MouseDriver}!offset@{offset}}
\index{offset@{offset}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{offset}{offset}}
{\footnotesize\ttfamily uint8\+\_\+t driver\+::\+Mouse\+Driver\+::offset\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a18578_source_l00046}{46}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.

\Hypertarget{a19513_a4a671e7e2b235f6bec473cb960401bd6}\label{a19513_a4a671e7e2b235f6bec473cb960401bd6} 
\index{driver::MouseDriver@{driver::MouseDriver}!old\_char\_under\_mouse\_pointer@{old\_char\_under\_mouse\_pointer}}
\index{old\_char\_under\_mouse\_pointer@{old\_char\_under\_mouse\_pointer}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{old\_char\_under\_mouse\_pointer}{old\_char\_under\_mouse\_pointer}}
{\footnotesize\ttfamily uint16\+\_\+t driver\+::\+Mouse\+Driver\+::old\+\_\+char\+\_\+under\+\_\+mouse\+\_\+pointer\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{a18578_source_l00051}{51}} of file \mbox{\hyperlink{a18578_source}{kmouse.\+hpp}}.



Referenced by \mbox{\hyperlink{a18557_source_l00060}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Move()}}, and \mbox{\hyperlink{a18593_source_l00050}{print\+Char\+Str()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/shreekar/\+Desktop/\+Building\+\_\+own\+\_\+\+OS/\+OSOS/libk\+\_\+header/driver/\mbox{\hyperlink{a18578}{kmouse.\+hpp}}\item 
/home/shreekar/\+Desktop/\+Building\+\_\+own\+\_\+\+OS/\+OSOS/libk\+\_\+src/driver/\mbox{\hyperlink{a18608}{kmouse.\+cpp}}\end{DoxyCompactItemize}
