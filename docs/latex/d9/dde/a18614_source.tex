\doxysubsection{kicxxabi.\+cpp}
\hypertarget{a18614_source}{}\label{a18614_source}\index{/home/shreekar/Desktop/Building\_own\_OS/OSOS/libk\_src/essential/kicxxabi.cpp@{/home/shreekar/Desktop/Building\_own\_OS/OSOS/libk\_src/essential/kicxxabi.cpp}}
\mbox{\hyperlink{a18614}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{a18614_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{a18584}{essential/kicxxabi.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{a18614_source_l00003}00003\ \textcolor{comment}{//\ To\ call\ constructors\ of\ global\ objects}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00004}\mbox{\hyperlink{a18614_a201d805094c80d48f8ee4e49ee85fb74}{00004}}\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ void\ (*\mbox{\hyperlink{a18614_a201d805094c80d48f8ee4e49ee85fb74}{ctors\_start}})();}
\DoxyCodeLine{\Hypertarget{a18614_source_l00005}\mbox{\hyperlink{a18614_a9a50b36f9886cd6bdbe05a5a6639cd95}{00005}}\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ void\ (*\mbox{\hyperlink{a18614_a9a50b36f9886cd6bdbe05a5a6639cd95}{ctors\_end}})();}
\DoxyCodeLine{\Hypertarget{a18614_source_l00007}\mbox{\hyperlink{a18620_a433c3d2d19d89890b522ac26b05fa7aa}{00007}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{a18620_a433c3d2d19d89890b522ac26b05fa7aa}{essential::\_\_callConstructors}}()\{}
\DoxyCodeLine{\Hypertarget{a18614_source_l00008}00008\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{void}\ (**p)()\ =\ \&\mbox{\hyperlink{a18614_a201d805094c80d48f8ee4e49ee85fb74}{ctors\_start}};\ p\ <\ \&\mbox{\hyperlink{a18614_a9a50b36f9886cd6bdbe05a5a6639cd95}{ctors\_end}};\ ++p)}
\DoxyCodeLine{\Hypertarget{a18614_source_l00009}00009\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{a18614_source_l00010}00010\ \ \ \ \ \ \ \ \ (*p)();\ \textcolor{comment}{//\ Call\ the\ constructor}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00011}00011\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00012}00012\ \}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{a18614_source_l00014}00014\ \textcolor{comment}{//\ To\ call\ destructors\ of\ global\ objects}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00015}00015\ \textcolor{comment}{//\ But\ we\ will\ use\ \_\_cxa\_finalize()\ function\ for\ calling\ destructors\ }}
\DoxyCodeLine{\Hypertarget{a18614_source_l00016}00016\ \textcolor{comment}{//\ extern\ "{}C"{}\ void(*dtors\_start)();}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00017}00017\ \textcolor{comment}{//\ extern\ "{}C"{}\ void(*dtors\_end)();}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00018}00018\ \textcolor{comment}{//\ void\ \_\_callDestructors()\{}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00019}00019\ \textcolor{comment}{//\ \ for\ (void\ (**p)()\ =\ \&dtors\_start;\ p\ <\ \&dtors\_end;\ ++p)}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00020}00020\ \textcolor{comment}{//\ \ \ \ \ \{}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00021}00021\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ (*p)();\ //\ Call\ the\ destructor}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00022}00022\ \textcolor{comment}{//\ \ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00023}00023\ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{a18614_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{a18614_source_l00026}\mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{00026}}\ \mbox{\hyperlink{a19525}{essential::atexit\_func\_entry\_t}}\ \mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[\mbox{\hyperlink{a18584_ae07a9ad040d2fbefafcff363b77697ce}{ATEXIT\_MAX\_FUNCS}}];}
\DoxyCodeLine{\Hypertarget{a18614_source_l00027}\mbox{\hyperlink{a18614_a0f75f529cf75cf0a9cd266f8d67675dc}{00027}}\ \mbox{\hyperlink{a18584_a35fc01d4eba01f3f2ec636bd6b5ff34f}{uarch\_t}}\ \mbox{\hyperlink{a18614_a0f75f529cf75cf0a9cd266f8d67675dc}{\_\_atexit\_func\_count}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{a18614_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{a18614_source_l00029}\mbox{\hyperlink{a18614_a19df960d2907e9c08a720ae7683e632c}{00029}}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{a18614_a19df960d2907e9c08a720ae7683e632c}{\_\_dso\_handle}}\ =\ 0;\ \textcolor{comment}{//Attention!\ Optimally,\ you\ should\ remove\ the\ '=\ 0'\ part\ and\ define\ this\ in\ your\ asm\ script.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{a18614_source_l00036}\mbox{\hyperlink{a18614_a6870fb46accc462562647e3d99c0b7c7}{00036}}\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{a18614_a6870fb46accc462562647e3d99c0b7c7}{\_\_cxa\_atexit}}(\textcolor{keywordtype}{void}\ (*f)(\textcolor{keywordtype}{void}\ *),\ \textcolor{keywordtype}{void}\ *objptr,\ \textcolor{keywordtype}{void}\ *dso)}
\DoxyCodeLine{\Hypertarget{a18614_source_l00037}00037\ \{}
\DoxyCodeLine{\Hypertarget{a18614_source_l00038}00038\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{a18614_a0f75f529cf75cf0a9cd266f8d67675dc}{\_\_atexit\_func\_count}}\ >=\ \mbox{\hyperlink{a18584_ae07a9ad040d2fbefafcff363b77697ce}{ATEXIT\_MAX\_FUNCS}})\ \{\textcolor{keywordflow}{return}\ -\/1;\};}
\DoxyCodeLine{\Hypertarget{a18614_source_l00039}00039\ \ \ \ \ \mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[\mbox{\hyperlink{a18614_a0f75f529cf75cf0a9cd266f8d67675dc}{\_\_atexit\_func\_count}}].\mbox{\hyperlink{a19525_a665175c477008154e9b40ef96a8d81c2}{destructor\_func}}\ =\ f;}
\DoxyCodeLine{\Hypertarget{a18614_source_l00040}00040\ \ \ \ \ \mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[\mbox{\hyperlink{a18614_a0f75f529cf75cf0a9cd266f8d67675dc}{\_\_atexit\_func\_count}}].\mbox{\hyperlink{a19525_a24ece443578ebec2449e72e998521a11}{obj\_ptr}}\ =\ objptr;}
\DoxyCodeLine{\Hypertarget{a18614_source_l00041}00041\ \ \ \ \ \mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[\mbox{\hyperlink{a18614_a0f75f529cf75cf0a9cd266f8d67675dc}{\_\_atexit\_func\_count}}].\mbox{\hyperlink{a19525_a98800f0ffd56e2dc77c46a741e1cf008}{dso\_handle}}\ =\ dso;}
\DoxyCodeLine{\Hypertarget{a18614_source_l00042}00042\ \ \ \ \ \mbox{\hyperlink{a18614_a0f75f529cf75cf0a9cd266f8d67675dc}{\_\_atexit\_func\_count}}++;}
\DoxyCodeLine{\Hypertarget{a18614_source_l00043}00043\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;\ \textcolor{comment}{/*I\ would\ prefer\ if\ functions\ returned\ 1\ on\ success,\ but\ the\ ABI\ says...*/}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00044}00044\ \};}
\DoxyCodeLine{\Hypertarget{a18614_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{a18614_source_l00046}00046\ \textcolor{comment}{//\ Call\ this\ function,\ then\ every\ global\ destructor\ will\ be\ called}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00049}\mbox{\hyperlink{a18620_a098e7240e26e869c035075be004b4ee9}{00049}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{a18620_a098e7240e26e869c035075be004b4ee9}{essential::\_\_cxa\_finalize}}(\textcolor{keywordtype}{void}\ *f)}
\DoxyCodeLine{\Hypertarget{a18614_source_l00050}00050\ \{}
\DoxyCodeLine{\Hypertarget{a18614_source_l00051}00051\ \ \ \ \ \mbox{\hyperlink{a18584_a35fc01d4eba01f3f2ec636bd6b5ff34f}{uarch\_t}}\ i\ =\ \mbox{\hyperlink{a18614_a0f75f529cf75cf0a9cd266f8d67675dc}{\_\_atexit\_func\_count}};}
\DoxyCodeLine{\Hypertarget{a18614_source_l00052}00052\ \ \ \ \ \textcolor{keywordflow}{if}\ (!f)}
\DoxyCodeLine{\Hypertarget{a18614_source_l00053}00053\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{a18614_source_l00054}00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00055}00055\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ According\ to\ the\ Itanium\ C++\ ABI,\ if\ essential::\_\_cxa\_finalize\ is\ called\ without\ a}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00056}00056\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ function\ ptr,\ then\ it\ means\ that\ we\ should\ destroy\ EVERYTHING\ MUAHAHAHA!!}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00057}00057\ \textcolor{comment}{\ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00058}00058\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ TODO:}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00059}00059\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ Note\ well,\ however,\ that\ deleting\ a\ function\ from\ here\ that\ contains\ a\ \_\_dso\_handle}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00060}00060\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ means\ that\ one\ link\ to\ a\ shared\ object\ file\ has\ been\ terminated.\ In\ other\ words,}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00061}00061\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ We\ should\ monitor\ this\ list\ (optional,\ of\ course),\ since\ it\ tells\ us\ how\ many\ links\ to\ }}
\DoxyCodeLine{\Hypertarget{a18614_source_l00062}00062\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ an\ object\ file\ exist\ at\ runtime\ in\ a\ particular\ application.\ This\ can\ be\ used\ to\ tell\ }}
\DoxyCodeLine{\Hypertarget{a18614_source_l00063}00063\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ when\ a\ shared\ object\ is\ no\ longer\ in\ use.\ It\ is\ one\ of\ many\ methods,\ however.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00064}00064\ \textcolor{comment}{\ \ \ \ \ \ \ \ **/}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00065}00065\ \ \ \ \ \ \ \ \ \textcolor{comment}{//You\ may\ insert\ a\ prinf()\ here\ to\ tell\ you\ whether\ or\ not\ the\ function\ gets\ called.\ Testing}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00066}00066\ \ \ \ \ \ \ \ \ \textcolor{comment}{//is\ CRITICAL!}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00067}00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (i-\/-\/)}
\DoxyCodeLine{\Hypertarget{a18614_source_l00068}00068\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{a18614_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[i].destructor\_func)}
\DoxyCodeLine{\Hypertarget{a18614_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{a18614_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ \string^\string^\string^\ That\ if\ statement\ is\ a\ safeguard...}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00072}00072\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\ To\ make\ sure\ we\ don't\ call\ any\ entries\ that\ have\ already\ been\ called\ and\ unset\ at\ runtime.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00073}00073\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\ Those\ will\ contain\ a\ value\ of\ 0,\ and\ calling\ a\ function\ with\ value\ 0}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00074}00074\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\ will\ cause\ undefined\ behaviour.\ Remember\ that\ linear\ address\ 0,\ }}
\DoxyCodeLine{\Hypertarget{a18614_source_l00075}00075\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\ in\ a\ non-\/virtual\ address\ space\ (physical)\ contains\ the\ IVT\ and\ BDA.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00076}00076\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00077}00077\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\ In\ a\ virtual\ environment,\ the\ kernel\ will\ receive\ a\ page\ fault,\ and\ then\ probably}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00078}00078\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\ map\ in\ some\ trash,\ or\ a\ blank\ page,\ or\ something\ stupid\ like\ that.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00079}00079\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\ This\ will\ result\ in\ the\ processor\ executing\ trash,\ and...we\ don't\ want\ that.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00080}00080\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ **/}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*\mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[i].\mbox{\hyperlink{a19525_a665175c477008154e9b40ef96a8d81c2}{destructor\_func}})(\mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[i].obj\_ptr);}
\DoxyCodeLine{\Hypertarget{a18614_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{a18614_source_l00083}00083\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{a18614_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{a18614_source_l00085}00085\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{a18614_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{a18614_source_l00087}00087\ \ \ \ \ \textcolor{keywordflow}{while}\ (i-\/-\/)}
\DoxyCodeLine{\Hypertarget{a18614_source_l00088}00088\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{a18614_source_l00089}00089\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00090}00090\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ The\ ABI\ states\ that\ multiple\ calls\ to\ the\ \_\_cxa\_finalize(destructor\_func\_ptr)\ function}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00091}00091\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ should\ not\ destroy\ objects\ multiple\ times.\ Only\ one\ call\ is\ needed\ to\ eliminate\ multiple}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00092}00092\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ entries\ with\ the\ same\ address.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00093}00093\ \textcolor{comment}{\ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00094}00094\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ FIXME:}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00095}00095\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ This\ presents\ the\ obvious\ problem:\ all\ destructors\ must\ be\ stored\ in\ the\ order\ they}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00096}00096\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ were\ placed\ in\ the\ list.\ I.e:\ the\ last\ initialized\ object's\ destructor\ must\ be\ first}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00097}00097\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ in\ the\ list\ of\ destructors\ to\ be\ called.\ But\ removing\ a\ destructor\ from\ the\ list\ at\ runtime}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00098}00098\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ creates\ holes\ in\ the\ table\ with\ unfilled\ entries.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00099}00099\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ Remember\ that\ the\ insertion\ algorithm\ in\ \_\_cxa\_atexit\ simply\ inserts\ the\ next\ destructor}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00100}00100\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ at\ the\ end\ of\ the\ table.\ So,\ we\ have\ holes\ with\ our\ current\ algorithm}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00101}00101\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ This\ function\ should\ be\ modified\ to\ move\ all\ the\ destructors\ above\ the\ one\ currently}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00102}00102\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ being\ called\ and\ removed\ one\ place\ down\ in\ the\ list,\ so\ as\ to\ cover\ up\ the\ hole.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00103}00103\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ Otherwise,\ whenever\ a\ destructor\ is\ called\ and\ removed,\ an\ entire\ space\ in\ the\ table\ is\ wasted.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00104}00104\ \textcolor{comment}{\ \ \ \ \ \ \ \ **/}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[i].destructor\_func\ ==\ f)}
\DoxyCodeLine{\Hypertarget{a18614_source_l00106}00106\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{a18614_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ *\ Note\ that\ in\ the\ next\ line,\ not\ every\ destructor\ function\ is\ a\ class\ destructor.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00108}00108\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ *\ It\ is\ perfectly\ legal\ to\ register\ a\ non\ class\ destructor\ function\ as\ a\ simple\ cleanup}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00109}00109\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ *\ function\ to\ be\ called\ on\ program\ termination,\ in\ which\ case,\ it\ would\ not\ NEED\ an}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00110}00110\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ *\ object\ This\ pointer.\ A\ smart\ programmer\ may\ even\ take\ advantage\ of\ this\ and\ register}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00111}00111\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ *\ a\ C\ function\ in\ the\ table\ with\ the\ address\ of\ some\ structure\ containing\ data\ about}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00112}00112\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ *\ what\ to\ clean\ up\ on\ exit.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00113}00113\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ *\ In\ the\ case\ of\ a\ function\ that\ takes\ no\ arguments,\ it\ will\ simply\ be\ ignore\ within\ the}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00114}00114\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ *\ function\ itself.\ No\ worries.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00115}00115\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ **/}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ (*\mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[i].\mbox{\hyperlink{a19525_a665175c477008154e9b40ef96a8d81c2}{destructor\_func}})(\mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[i].obj\_ptr);}
\DoxyCodeLine{\Hypertarget{a18614_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{a18614_a05a64060e9039acf0ba3c311b2d981b7}{\_\_atexit\_funcs}}[i].\mbox{\hyperlink{a19525_a665175c477008154e9b40ef96a8d81c2}{destructor\_func}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{a18614_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{a18614_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00120}00120\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ *\ Notice\ that\ we\ didn't\ decrement\ \_\_atexit\_func\_count:\ this\ is\ because\ this\ algorithm}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00121}00121\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ *\ requires\ patching\ to\ deal\ with\ the\ FIXME\ outlined\ above.}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00122}00122\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ **/}}
\DoxyCodeLine{\Hypertarget{a18614_source_l00123}00123\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{a18614_source_l00124}00124\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{a18614_source_l00125}00125\ \};}

\end{DoxyCode}
