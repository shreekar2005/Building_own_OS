<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_a19537" xml:lang="en-US">
<title>hardware_communication::InterruptManager</title>
<indexterm><primary>hardware_communication::InterruptManager</primary></indexterm>
<para>

<para>Manages the Interrupt Descriptor Table (IDT) and Programmable Interrupt Controllers (PICs), dispatching interrupts to registered handlers. </para>
 
</para>
<para>
<computeroutput>#include &quot;kinterrupt.hpp&quot;</computeroutput>
</para>
Collaboration diagram for hardware_communication::InterruptManager:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../d5/d4f/a19535.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Public Member Functions    </title>
        <itemizedlist>
            <listitem><para><link linkend="_a19537_1aec70c703cac64ef1eec4b5a94d2e145c">InterruptManager</link> (<link linkend="_a19521">essential::GDT</link> *gdt)</para>

<para>Constructs an <link linkend="_a19537">InterruptManager</link>, initializes the PICs, and populates the IDT. </para>
</listitem>
            <listitem><para><link linkend="_a19537_1a65276f26b5d5197482a415b83a898560">~InterruptManager</link> ()</para>

<para>Destroys the <link linkend="_a19537">InterruptManager</link> object. </para>
</listitem>
            <listitem><para>void <link linkend="_a19537_1a81d593116320da32f1aa4057087f1e11">installTable</link> ()</para>

<para>Loads the Interrupt Descriptor Table (IDT) into the CPU&apos;s IDTR register. </para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Static Public Member Functions    </title>
        <itemizedlist>
            <listitem><para>static void <link linkend="_a19537_1a1ab5b6378071338ede295f0bffaf3d51">activate</link> ()</para>

<para>Enables interrupts globally by executing the &apos;sti&apos; instruction. </para>
</listitem>
            <listitem><para>static void <link linkend="_a19537_1a9451566bf08617378ca2144505d394a6">deactivate</link> ()</para>

<para>Disables interrupts globally by executing the &apos;cli&apos; instruction. </para>
</listitem>
            <listitem><para>static uintptr_t <link linkend="_a19537_1a2d3ef1656e1eaaf86be40a200a49a4b2">handleInterrupt</link> (uint8_t interruptNumber, uintptr_t esp)</para>

<para>The central interrupt dispatching function called by assembly stubs. </para>
</listitem>
            <listitem><para>static void <link linkend="_a19537_1aac20f3a896bea512413568a60ad48c3d">printLoadedTable</link> ()</para>

<para>Prints the details of all entries in the currently loaded IDT. </para>
</listitem>
            <listitem><para>static void <link linkend="_a19537_1ad8a6f694662a3a36ba9353197e20c1b1">printLoadedTableHeader</link> ()</para>

<para>Prints the header information (base, limit, count) of the currently loaded IDT. </para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Public Attributes    </title>
        <itemizedlist>
            <listitem><para>uint32_t <link linkend="_a19537_1ad94bd8e9c355fde3e814d4894bab0181">base</link></para>
</listitem>
            <listitem><para>uint16_t <link linkend="_a19537_1a1991d8428ff7c74b31f42d48bb49547a">limit</link></para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Protected Member Functions    </title>
        <itemizedlist>
            <listitem><para>void <link linkend="_a19537_1af448c0d55d2e226050b7f4efb6d4abe8">setIDTEntry</link> (uint8_t interruptNumber, uint16_t codeSegmentSelectorOffset, void(*handler)(), uint8_t DescriptorPrivilegeLever, uint8_t DescriptorType)</para>

<para>Populates a specific entry in the Interrupt Descriptor Table (IDT). </para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Protected Attributes    </title>
        <itemizedlist>
            <listitem><para><link linkend="_a19529">InterruptHandler</link> * <link linkend="_a19537_1ac8aba191e612ad605b8b188f78e65d3b">handlers</link> [256]</para>
</listitem>
            <listitem><para><link linkend="_a19533">IDT_row</link> <link linkend="_a19537_1a7b6bb52a8072c51bfcb4f4877c3d0226">interruptDescriptorTable</link> [256]</para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Static Protected Attributes    </title>
        <itemizedlist>
            <listitem><para>static <link linkend="_a19549">hardware_communication::Port8BitSlow</link> <link linkend="_a19537_1acb04723d03d6b34abbc5f7407cab0b33">picMasterCommand</link></para>

<para>Command port for the Master PIC (8259A). </para>
</listitem>
            <listitem><para>static <link linkend="_a19549">hardware_communication::Port8BitSlow</link> <link linkend="_a19537_1a5287e31a546f60708b085b387332a904">picMasterData</link></para>

<para>Data port for the Master PIC (8259A). </para>
</listitem>
            <listitem><para>static <link linkend="_a19549">hardware_communication::Port8BitSlow</link> <link linkend="_a19537_1afed9d24b37c8f9386a71f4284b2502a4">picSlaveCommand</link></para>

<para>Command port for the Slave PIC (8259A). </para>
</listitem>
            <listitem><para>static <link linkend="_a19549">hardware_communication::Port8BitSlow</link> <link linkend="_a19537_1ac1111b7cfbd27b37f03a0678ae5dbaf1">picSlaveData</link></para>

<para>Data port for the Slave PIC (8259A). </para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Detailed Description</title>

<para>Manages the Interrupt Descriptor Table (IDT) and Programmable Interrupt Controllers (PICs), dispatching interrupts to registered handlers. </para>
<para>
Definition at line <link linkend="_a18569_source_1l00047">47</link> of file <link linkend="_a18569_source">kinterrupt.hpp</link>.</para>
</section>
<section>
<title>Constructor &amp; Destructor Documentation</title>
<anchor xml:id="_a19537_1aec70c703cac64ef1eec4b5a94d2e145c"/><section>
    <title>InterruptManager()</title>
<indexterm><primary>InterruptManager</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>InterruptManager</secondary></indexterm>
<para><computeroutput>hardware_communication::InterruptManager::InterruptManager (<link linkend="_a19521">essential::GDT</link> * gdt)</computeroutput></para><para>

<para>Constructs an <link linkend="_a19537">InterruptManager</link>, initializes the PICs, and populates the IDT. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>gdt</entry><entry>
<para>A pointer to the Global Descriptor Table instance, needed to get the kernel code segment selector. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
<para>
Definition at line <link linkend="_a18599_source_1l00033">33</link> of file <link linkend="_a18599_source">kinterrupt.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00034 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;ICW1:&#32;Start&#32;Initialization&#32;Sequence.&#32;Both&#32;PICs&#32;are&#32;told&#32;to&#32;listen&#32;for&#32;3&#32;more&#32;bytes&#32;of&#32;config&#32;data.</emphasis>
00035 &#32;&#32;&#32;&#32;<link linkend="_a19537_1acb04723d03d6b34abbc5f7407cab0b33">picMasterCommand</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x11);
00036 &#32;&#32;&#32;&#32;<link linkend="_a19537_1afed9d24b37c8f9386a71f4284b2502a4">picSlaveCommand</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x11);
00037 
00038 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;ICW2:&#32;Vector&#32;Remapping.</emphasis>
00039 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Master&#32;is&#32;told&#32;to&#32;remap&#32;its&#32;IRQs&#32;(0-7)&#32;to&#32;CPU&#32;vectors&#32;0x20-0x27.</emphasis>
00040 &#32;&#32;&#32;&#32;<link linkend="_a19537_1a5287e31a546f60708b085b387332a904">picMasterData</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x20);
00041 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Slave&#32;is&#32;told&#32;to&#32;remap&#32;its&#32;IRQs&#32;(8-15)&#32;to&#32;CPU&#32;vectors&#32;0x28-0x2F.</emphasis>
00042 &#32;&#32;&#32;&#32;<link linkend="_a19537_1ac1111b7cfbd27b37f03a0678ae5dbaf1">picSlaveData</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x28);
00043 
00044 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;ICW3:&#32;Chaining&#32;Configuration.</emphasis>
00045 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Master&#32;is&#32;told&#32;a&#32;slave&#32;is&#32;connected&#32;on&#32;its&#32;IRQ&#32;2&#32;line&#32;(0x04&#32;=&#32;bit&#32;2&#32;set).</emphasis>
00046 &#32;&#32;&#32;&#32;<link linkend="_a19537_1a5287e31a546f60708b085b387332a904">picMasterData</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x04);
00047 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Slave&#32;is&#32;told&#32;its&#32;identity&#32;is&#32;2.</emphasis>
00048 &#32;&#32;&#32;&#32;<link linkend="_a19537_1ac1111b7cfbd27b37f03a0678ae5dbaf1">picSlaveData</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x02);
00049 
00050 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;ICW4:&#32;Environment&#32;Information.</emphasis>
00051 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Both&#32;are&#32;told&#32;to&#32;operate&#32;in&#32;standard&#32;&quot;8086/88&quot;&#32;mode.</emphasis>
00052 &#32;&#32;&#32;&#32;<link linkend="_a19537_1a5287e31a546f60708b085b387332a904">picMasterData</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x01);
00053 &#32;&#32;&#32;&#32;<link linkend="_a19537_1ac1111b7cfbd27b37f03a0678ae5dbaf1">picSlaveData</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x01);
00054 
00055 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;OCW1:&#32;Interrupt&#32;Masking.</emphasis>
00056 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;This&#32;is&#32;the&#32;final&#32;step,&#32;enabling&#32;all&#32;interrupts&#32;by&#32;writing&#32;a&#32;mask&#32;of&#32;all&#32;zeros.</emphasis>
00057 &#32;&#32;&#32;&#32;<link linkend="_a19537_1a5287e31a546f60708b085b387332a904">picMasterData</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x00);
00058 &#32;&#32;&#32;&#32;<link linkend="_a19537_1ac1111b7cfbd27b37f03a0678ae5dbaf1">picSlaveData</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x00);
00059 
00060 &#32;&#32;&#32;&#32;<link linkend="_a19537_1ad94bd8e9c355fde3e814d4894bab0181">base</link>=(uintptr_t)&amp;<link linkend="_a19537_1a7b6bb52a8072c51bfcb4f4877c3d0226">interruptDescriptorTable</link>;
00061 &#32;&#32;&#32;&#32;<link linkend="_a19537_1a1991d8428ff7c74b31f42d48bb49547a">limit</link>&#32;=&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_a19537_1a7b6bb52a8072c51bfcb4f4877c3d0226">interruptDescriptorTable</link>)&#32;-&#32;1;
00062 
00063 &#32;&#32;&#32;&#32;uint16_t&#32;kernelCSselectorOffset&#32;=&#32;gdt-&gt;<link linkend="_a19521_1a89a8d2c17e3c22e7200bff09252f46e1">kernel_CS_selector</link>();
00064 &#32;&#32;&#32;&#32;uint8_t&#32;IDT_INTERRUPT_GATE=0xE;
00065 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(<emphasis role="keywordtype">int</emphasis>&#32;i=0;&#32;i&lt;256;&#32;i++){
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19537_1af448c0d55d2e226050b7f4efb6d4abe8">setIDTEntry</link>(i,&#32;kernelCSselectorOffset,&#32;&amp;<link linkend="_a18569_1a07e074bde074261858311b014bc2b398">ignoreInterrupt</link>,&#32;0,&#32;IDT_INTERRUPT_GATE);
00067 &#32;&#32;&#32;&#32;}
00068 
00069 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Set&#32;handlers&#32;for&#32;hardware&#32;interrupts</emphasis>
00070 &#32;&#32;&#32;&#32;<link linkend="_a19537_1af448c0d55d2e226050b7f4efb6d4abe8">setIDTEntry</link>(0x20,&#32;kernelCSselectorOffset,&#32;&amp;<link linkend="_a18569_1adf60fad10b12cc19ad193c928d36445c">handleIRQ0x00</link>,&#32;0,&#32;IDT_INTERRUPT_GATE);&#32;<emphasis role="comment">//&#32;Timer</emphasis>
00071 &#32;&#32;&#32;&#32;<link linkend="_a19537_1af448c0d55d2e226050b7f4efb6d4abe8">setIDTEntry</link>(0x21,&#32;kernelCSselectorOffset,&#32;&amp;<link linkend="_a18569_1a6498ed740318b424aaae4db1f223e558">handleIRQ0x01</link>,&#32;0,&#32;IDT_INTERRUPT_GATE);&#32;<emphasis role="comment">//&#32;Keyboard</emphasis>
00072 &#32;&#32;&#32;&#32;<link linkend="_a19537_1af448c0d55d2e226050b7f4efb6d4abe8">setIDTEntry</link>(0x2C,&#32;kernelCSselectorOffset,&#32;&amp;<link linkend="_a18569_1a996c60cc7e88bb1c85505c19f6c35117">handleIRQ0x0C</link>,&#32;0,&#32;IDT_INTERRUPT_GATE);&#32;<emphasis role="comment">//&#32;PS/2&#32;Mouse</emphasis>
00073 }
</programlisting><para>
References <link linkend="_a18587_source_1l00002">base</link>, <link linkend="_a18569_1adf60fad10b12cc19ad193c928d36445c">handleIRQ0x00()</link>, <link linkend="_a18569_1a6498ed740318b424aaae4db1f223e558">handleIRQ0x01()</link>, <link linkend="_a18569_1a996c60cc7e88bb1c85505c19f6c35117">handleIRQ0x0C()</link>, <link linkend="_a18569_1a07e074bde074261858311b014bc2b398">ignoreInterrupt()</link>, <link linkend="_a18611_source_1l00146">essential::GDT::kernel_CS_selector()</link>, and <link linkend="_a18587_source_1l00001">limit</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_aec70c703cac64ef1eec4b5a94d2e145c_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a19537_1a65276f26b5d5197482a415b83a898560"/><section>
    <title>~InterruptManager()</title>
<indexterm><primary>~InterruptManager</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>~InterruptManager</secondary></indexterm>
<para><computeroutput>hardware_communication::InterruptManager::~InterruptManager ( )</computeroutput></para><para>

<para>Destroys the <link linkend="_a19537">InterruptManager</link> object. </para>
</para>
<para>
Definition at line <link linkend="_a18599_source_1l00076">76</link> of file <link linkend="_a18599_source">kinterrupt.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00076 {}
</programlisting></section>
</section>
<section>
<title>Member Function Documentation</title>
<anchor xml:id="_a19537_1a1ab5b6378071338ede295f0bffaf3d51"/><section>
    <title>activate()</title>
<indexterm><primary>activate</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>activate</secondary></indexterm>
<para><computeroutput>void hardware_communication::InterruptManager::activate ( )<computeroutput>[static]</computeroutput></computeroutput></para><para>

<para>Enables interrupts globally by executing the &apos;sti&apos; instruction. </para>
</para>
<para>
Definition at line <link linkend="_a18599_source_1l00117">117</link> of file <link linkend="_a18599_source">kinterrupt.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00117 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00118 &#32;&#32;&#32;&#32;__asm__&#32;<emphasis role="keyword">volatile</emphasis>&#32;(<emphasis role="stringliteral">&quot;sti&quot;</emphasis>);
00119 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;Interrupts&#32;Activated\n&quot;</emphasis>);
00120 }
</programlisting><para>
References <link linkend="_a18593_source_1l00306">basic::printf()</link>.</para>
<para>
Referenced by <link linkend="_a18557_source_1l00105">kernelMain()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_a1ab5b6378071338ede295f0bffaf3d51_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_a1ab5b6378071338ede295f0bffaf3d51_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a19537_1a9451566bf08617378ca2144505d394a6"/><section>
    <title>deactivate()</title>
<indexterm><primary>deactivate</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>deactivate</secondary></indexterm>
<para><computeroutput>void hardware_communication::InterruptManager::deactivate ( )<computeroutput>[static]</computeroutput></computeroutput></para><para>

<para>Disables interrupts globally by executing the &apos;cli&apos; instruction. </para>
</para>
<para>
Definition at line <link linkend="_a18599_source_1l00122">122</link> of file <link linkend="_a18599_source">kinterrupt.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00122 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00123 &#32;&#32;&#32;&#32;__asm__&#32;<emphasis role="keyword">volatile</emphasis>&#32;(<emphasis role="stringliteral">&quot;cli&quot;</emphasis>);
00124 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;Interrupts&#32;Deactivated\n&quot;</emphasis>);
00125 }
</programlisting><para>
References <link linkend="_a18593_source_1l00306">basic::printf()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_a9451566bf08617378ca2144505d394a6_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a19537_1a2d3ef1656e1eaaf86be40a200a49a4b2"/><section>
    <title>handleInterrupt()</title>
<indexterm><primary>handleInterrupt</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>handleInterrupt</secondary></indexterm>
<para><computeroutput>uintptr_t hardware_communication::InterruptManager::handleInterrupt (uint8_t interruptNumber, uintptr_t esp)<computeroutput>[static]</computeroutput></computeroutput></para><para>

<para>The central interrupt dispatching function called by assembly stubs. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>interruptNumber</entry><entry>
<para>The number of the interrupt that occurred. </para>
</entry>
                            </row>
                            <row>
<entry>esp</entry><entry>
<para>The stack pointer (Extended Stack Pointer) from the context of the interrupted process. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>The updated stack pointer, typically the same as the input unless the handler modified the stack frame. </para>
</formalpara>
</para>
<para>
Definition at line <link linkend="_a18599_source_1l00185">185</link> of file <link linkend="_a18599_source">kinterrupt.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00186 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Use&#32;the&#32;global&#32;pointer&#32;&quot;installed_interrupt_manager&quot;&#32;to&#32;access&#32;the&#32;current&#32;interrupt&#32;manager</emphasis>
00187 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_a18599_1a1df59a6c3578a3d5d96bfef4ffd8fbc8">installed_interrupt_manager</link>-&gt;<link linkend="_a19537_1ac8aba191e612ad605b8b188f78e65d3b">handlers</link>[interruptNumber]!=<emphasis role="keyword">nullptr</emphasis>){
00188 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;esp&#32;=&#32;<link linkend="_a18599_1a1df59a6c3578a3d5d96bfef4ffd8fbc8">installed_interrupt_manager</link>-&gt;<link linkend="_a19537_1ac8aba191e612ad605b8b188f78e65d3b">handlers</link>[interruptNumber]-&gt;<link linkend="_a19529_1aa89d41d69840cb4f1c8692fa6ded28f4">handleInterrupt</link>(esp);
00189 &#32;&#32;&#32;&#32;}
00190 
00191 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">if</emphasis>(interruptNumber!=0x20){&#32;<emphasis role="comment">//0x20&#32;is&#32;Hardware&#32;Timer&#32;Interrupt</emphasis>
00192 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;UNHANDLED&#32;INTERRUPT&#32;%#hx\n&quot;</emphasis>,interruptNumber);
00193 &#32;&#32;&#32;&#32;}
00194 
00195 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Hardware&#32;interrupts&#32;must&#32;still&#32;be&#32;acknowledged&#32;to&#32;the&#32;PIC</emphasis>
00196 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(0x20&#32;&lt;=interruptNumber&#32;&amp;&amp;&#32;interruptNumber&#32;&lt;=&#32;0x2F)&#32;{
00197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19537_1acb04723d03d6b34abbc5f7407cab0b33">picMasterCommand</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x20);
00198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(0x28&#32;&lt;=&#32;interruptNumber)&#32;<link linkend="_a19537_1afed9d24b37c8f9386a71f4284b2502a4">picSlaveCommand</link>.<link linkend="_a19549_1af84b15d5a205a421a9877e2341714031">write</link>(0x20);
00199 &#32;&#32;&#32;&#32;}
00200 &#32;&#32;&#32;&#32;
00201 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;esp;
00202 }
</programlisting><para>
References <link linkend="_a19529_1aa89d41d69840cb4f1c8692fa6ded28f4">hardware_communication::InterruptHandler::handleInterrupt()</link>, <link linkend="_a18569_source_1l00058">handlers</link>, <link linkend="_a18599_source_1l00098">installed_interrupt_manager</link>, and <link linkend="_a18593_source_1l00306">basic::printf()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_a2d3ef1656e1eaaf86be40a200a49a4b2_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a19537_1a81d593116320da32f1aa4057087f1e11"/><section>
    <title>installTable()</title>
<indexterm><primary>installTable</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>installTable</secondary></indexterm>
<para><computeroutput>void hardware_communication::InterruptManager::installTable ( )</computeroutput></para><para>

<para>Loads the Interrupt Descriptor Table (IDT) into the CPU&apos;s IDTR register. </para>
</para>
<para>
Definition at line <link linkend="_a18599_source_1l00100">100</link> of file <link linkend="_a18599_source">kinterrupt.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00101 &#32;&#32;&#32;&#32;<link linkend="_a18599_1a1df59a6c3578a3d5d96bfef4ffd8fbc8">installed_interrupt_manager</link>=<emphasis role="keyword">this</emphasis>;
00102 &#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis>IDT_Pointer&#32;{
00103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint16_t&#32;<link linkend="_a18587_1ab28e82ae69032cb4ad3ec3a0be3d7129">limit</link>;
00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;<link linkend="_a18587_1ad516e6ff5b7dd7f6ce2946c527ddb8b9">base</link>;
00105 &#32;&#32;&#32;&#32;}&#32;<link linkend="_a18621_1a21c3ca5c318038eaed596c14fd2666ed">__attribute__</link>((packed));
00106 
00107 &#32;&#32;&#32;&#32;IDT_Pointer&#32;idt_ptr;
00108 &#32;&#32;&#32;&#32;idt_ptr.limit&#32;=&#32;this-&gt;<link linkend="_a19537_1a1991d8428ff7c74b31f42d48bb49547a">limit</link>;
00109 &#32;&#32;&#32;&#32;idt_ptr.base&#32;=&#32;this-&gt;<link linkend="_a19537_1ad94bd8e9c355fde3e814d4894bab0181">base</link>;
00110 
00111 &#32;&#32;&#32;&#32;__asm__&#32;<emphasis role="keyword">volatile</emphasis>&#32;(<emphasis role="stringliteral">&quot;lidt&#32;%0&quot;</emphasis>&#32;:&#32;:&#32;<emphasis role="stringliteral">&quot;m&quot;</emphasis>(idt_ptr));
00112 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;IDT&#32;Installed\n&quot;</emphasis>);
00113 }
</programlisting><para>
References <link linkend="_a18621_1a21c3ca5c318038eaed596c14fd2666ed">hardware_communication::__attribute__</link>, <link linkend="_a18587_source_1l00002">base</link>, <link linkend="_a18599_source_1l00098">installed_interrupt_manager</link>, <link linkend="_a18587_source_1l00001">limit</link>, and <link linkend="_a18593_source_1l00306">basic::printf()</link>.</para>
<para>
Referenced by <link linkend="_a18557_source_1l00105">kernelMain()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_a81d593116320da32f1aa4057087f1e11_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_a81d593116320da32f1aa4057087f1e11_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a19537_1aac20f3a896bea512413568a60ad48c3d"/><section>
    <title>printLoadedTable()</title>
<indexterm><primary>printLoadedTable</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>printLoadedTable</secondary></indexterm>
<para><computeroutput>void hardware_communication::InterruptManager::printLoadedTable ( )<computeroutput>[static]</computeroutput></computeroutput></para><para>

<para>Prints the details of all entries in the currently loaded IDT. </para>
</para>
<para>
Definition at line <link linkend="_a18599_source_1l00128">128</link> of file <link linkend="_a18599_source">kinterrupt.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00128 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00129 &#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis>IDT_Pointer&#32;{
00130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint16_t&#32;<link linkend="_a18587_1ab28e82ae69032cb4ad3ec3a0be3d7129">limit</link>;
00131 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;<link linkend="_a18587_1ad516e6ff5b7dd7f6ce2946c527ddb8b9">base</link>;
00132 &#32;&#32;&#32;&#32;}&#32;<link linkend="_a18621_1a21c3ca5c318038eaed596c14fd2666ed">__attribute__</link>((packed));
00133 
00134 &#32;&#32;&#32;&#32;IDT_Pointer&#32;idt_ptr;
00135 &#32;&#32;&#32;&#32;__asm__&#32;<emphasis role="keyword">volatile</emphasis>&#32;(<emphasis role="stringliteral">&quot;sidt&#32;%0&quot;</emphasis>&#32;:&#32;<emphasis role="stringliteral">&quot;=m&quot;</emphasis>(idt_ptr));
00136 
00137 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;---\n&quot;</emphasis>);
00138 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;INFO&#32;about&#32;:&#32;Currently&#32;Loaded&#32;IDT\n&quot;</emphasis>);
00139 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;Base&#32;Address:&#32;%#x\n&quot;</emphasis>,&#32;idt_ptr.base);
00140 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;Limit:&#32;%#x&#32;(%d&#32;bytes)\n&quot;</emphasis>,&#32;idt_ptr.limit,&#32;idt_ptr.limit);
00141 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;Entries:&#32;%d\n&quot;</emphasis>,&#32;(idt_ptr.limit&#32;+&#32;1)&#32;/&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_a19533">hardware_communication::IDT_row</link>));
00142 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;---\n&quot;</emphasis>);
00143 
00144 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;&#32;Idx&#32;|&#32;Handler&#32;Address&#32;|&#32;Selector&#32;|&#32;Access&#32;Flags\n&quot;</emphasis>);
00145 &#32;&#32;&#32;&#32;<link linkend="_a19533">hardware_communication::IDT_row</link>*&#32;current_idt&#32;=&#32;(<link linkend="_a19533">hardware_communication::IDT_row</link>*)idt_ptr.base;
00146 &#32;&#32;&#32;&#32;uint32_t&#32;num_entries&#32;=&#32;(idt_ptr.limit&#32;+&#32;1)&#32;/&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_a19533">hardware_communication::IDT_row</link>);
00147 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(uint32_t&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;num_entries;&#32;i++)&#32;{
00148 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;handler_address&#32;=&#32;(current_idt[i].handlerAddressHighbits&#32;&lt;&lt;&#32;16)&#32;|&#32;current_idt[i].<link linkend="_a18569_1adf5df650f7c6f6e7792d97ee2b851265">handlerAddressLowbits</link>;
00149 
00150 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(handler_address&#32;!=&#32;0)&#32;{
00151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;&#32;%3d&#32;|&#32;%#015x&#32;|&#32;%#08x&#32;|&#32;%#012x\n&quot;</emphasis>,&#32;
00152 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i,&#32;
00153 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;handler_address,&#32;
00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;current_idt[i].<link linkend="_a18569_1acca378f87bf61c0de2befa4244846bfe">kernelCodeSegmentSelector</link>,
00155 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;current_idt[i].<link linkend="_a18587_1a8b0d6200bc639dd37ff68847a0adde5f">access</link>
00156 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;);
00157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00158 &#32;&#32;&#32;&#32;}
00159 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;---\n&quot;</emphasis>);
00160 }
</programlisting><para>
References <link linkend="_a18621_1a21c3ca5c318038eaed596c14fd2666ed">hardware_communication::__attribute__</link>, <link linkend="_a18587_source_1l00004">access</link>, <link linkend="_a18587_source_1l00002">base</link>, <link linkend="_a18569_source_1l00039">hardware_communication::IDT_row::handlerAddressHighbits</link>, <link linkend="_a18569_source_1l00001">handlerAddressLowbits</link>, <link linkend="_a18569_source_1l00002">kernelCodeSegmentSelector</link>, <link linkend="_a18587_source_1l00001">limit</link>, and <link linkend="_a18593_source_1l00306">basic::printf()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_aac20f3a896bea512413568a60ad48c3d_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a19537_1ad8a6f694662a3a36ba9353197e20c1b1"/><section>
    <title>printLoadedTableHeader()</title>
<indexterm><primary>printLoadedTableHeader</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>printLoadedTableHeader</secondary></indexterm>
<para><computeroutput>void hardware_communication::InterruptManager::printLoadedTableHeader ( )<computeroutput>[static]</computeroutput></computeroutput></para><para>

<para>Prints the header information (base, limit, count) of the currently loaded IDT. </para>
</para>
<para>
Definition at line <link linkend="_a18599_source_1l00163">163</link> of file <link linkend="_a18599_source">kinterrupt.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00164 
00165 &#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis>IDT_Pointer&#32;{
00166 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint16_t&#32;<link linkend="_a18587_1ab28e82ae69032cb4ad3ec3a0be3d7129">limit</link>;
00167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;<link linkend="_a18587_1ad516e6ff5b7dd7f6ce2946c527ddb8b9">base</link>;
00168 &#32;&#32;&#32;&#32;}&#32;<link linkend="_a18621_1a21c3ca5c318038eaed596c14fd2666ed">__attribute__</link>((packed));
00169 
00170 &#32;&#32;&#32;&#32;IDT_Pointer&#32;idt_ptr;
00171 &#32;&#32;&#32;&#32;__asm__&#32;<emphasis role="keyword">volatile</emphasis>&#32;(<emphasis role="stringliteral">&quot;sidt&#32;%0&quot;</emphasis>&#32;:&#32;<emphasis role="stringliteral">&quot;=m&quot;</emphasis>(idt_ptr));
00172 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;---\n&quot;</emphasis>);
00173 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;INFO&#32;about&#32;:&#32;Currently&#32;Loaded&#32;IDT\n&quot;</emphasis>);
00174 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;Base&#32;Address:&#32;%#x\n&quot;</emphasis>,&#32;idt_ptr.base);
00175 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;Limit:&#32;%#x&#32;(%d&#32;bytes)\n&quot;</emphasis>,&#32;idt_ptr.limit,&#32;idt_ptr.limit);
00176 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;Entries:&#32;%d\n&quot;</emphasis>,&#32;(idt_ptr.limit&#32;+&#32;1)&#32;/&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_a19533">hardware_communication::IDT_row</link>));
00177 &#32;&#32;&#32;&#32;<link linkend="_a18618_1a45ee52b918a784ff0e96e7c8917a91d9">basic::printf</link>(<emphasis role="stringliteral">&quot;---\n&quot;</emphasis>);
00178 }
</programlisting><para>
References <link linkend="_a18621_1a21c3ca5c318038eaed596c14fd2666ed">hardware_communication::__attribute__</link>, <link linkend="_a18587_source_1l00002">base</link>, <link linkend="_a18587_source_1l00001">limit</link>, and <link linkend="_a18593_source_1l00306">basic::printf()</link>.</para>
<para>
Referenced by <link linkend="_a18557_source_1l00105">kernelMain()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_ad8a6f694662a3a36ba9353197e20c1b1_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/dda/a19537_ad8a6f694662a3a36ba9353197e20c1b1_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a19537_1af448c0d55d2e226050b7f4efb6d4abe8"/><section>
    <title>setIDTEntry()</title>
<indexterm><primary>setIDTEntry</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>setIDTEntry</secondary></indexterm>
<para><computeroutput>void hardware_communication::InterruptManager::setIDTEntry (uint8_t interruptNumber, uint16_t codeSegmentSelectorOffset, void(*)() handler, uint8_t DescriptorPrivilegeLever, uint8_t DescriptorType)<computeroutput>[protected]</computeroutput></computeroutput></para><para>

<para>Populates a specific entry in the Interrupt Descriptor Table (IDT). </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>interruptNumber</entry><entry>
<para>The index of the IDT entry to set (0-255). </para>
</entry>
                            </row>
                            <row>
<entry>codeSegmentSelectorOffset</entry><entry>
<para>The segment selector for the interrupt handler code. </para>
</entry>
                            </row>
                            <row>
<entry>handler</entry><entry>
<para>A function pointer to the assembly stub that handles the interrupt. </para>
</entry>
                            </row>
                            <row>
<entry>DescriptorPrivilegeLever</entry><entry>
<para>The DPL (Descriptor Privilege Level) for the interrupt gate. </para>
</entry>
                            </row>
                            <row>
<entry>DescriptorType</entry><entry>
<para>The type of the descriptor (e.g., 0xE for 32-bit Interrupt Gate). </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
<para>
Definition at line <link linkend="_a18599_source_1l00084">84</link> of file <link linkend="_a18599_source">kinterrupt.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;uint8_t&#32;IDT_DESC_PRESET=&#32;0x80;
00091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19537_1a7b6bb52a8072c51bfcb4f4877c3d0226">interruptDescriptorTable</link>[interruptNumber].<link linkend="_a19533_1a3390e4d53e904d420187ecc0247e9289">handlerAddressLowbits</link>=(uint32_t)handler&#32;&amp;&#32;0xFFFF;
00092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19537_1a7b6bb52a8072c51bfcb4f4877c3d0226">interruptDescriptorTable</link>[interruptNumber].<link linkend="_a19533_1af1a4bb042f75f10c5e2b08034e82aed3">handlerAddressHighbits</link>=((uint32_t)handler&#32;&gt;&gt;&#32;16)&#32;&amp;&#32;0xFFFF;
00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19537_1a7b6bb52a8072c51bfcb4f4877c3d0226">interruptDescriptorTable</link>[interruptNumber].<link linkend="_a19533_1a96bce1ce9c6a7e9b5a20607f41a2e876">reserved</link>=0;
00094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19537_1a7b6bb52a8072c51bfcb4f4877c3d0226">interruptDescriptorTable</link>[interruptNumber].<link linkend="_a19533_1afa706321cb5ba41a6035dbe1ec39c265">access</link>=IDT_DESC_PRESET&#32;|&#32;DescriptorType&#32;|&#32;((DescriptorPrivilegeLever&#32;&amp;&#32;3)&#32;&lt;&lt;&#32;5);
00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19537_1a7b6bb52a8072c51bfcb4f4877c3d0226">interruptDescriptorTable</link>[interruptNumber].<link linkend="_a19533_1a800309c99800063315cddf536a3d0d67">kernelCodeSegmentSelector</link>=codeSegmentSelectorOffset;
00096 }
</programlisting></section>
</section>
<section>
<title>Member Data Documentation</title>
<anchor xml:id="_a19537_1ad94bd8e9c355fde3e814d4894bab0181"/><section>
    <title>base</title>
<indexterm><primary>base</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>base</secondary></indexterm>
<para><computeroutput>uint32_t hardware_communication::InterruptManager::base</computeroutput></para><para>
Definition at line <link linkend="_a18569_source_1l00053">53</link> of file <link linkend="_a18569_source">kinterrupt.hpp</link>.</para>
</section>
<anchor xml:id="_a19537_1ac8aba191e612ad605b8b188f78e65d3b"/><section>
    <title>handlers</title>
<indexterm><primary>handlers</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>handlers</secondary></indexterm>
<para><computeroutput><link linkend="_a19529">InterruptHandler</link>* hardware_communication::InterruptManager::handlers[256]<computeroutput>[protected]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a18569_source_1l00058">58</link> of file <link linkend="_a18569_source">kinterrupt.hpp</link>.</para>
<para>
Referenced by <link linkend="_a18599_source_1l00006">hardware_communication::InterruptHandler::InterruptHandler()</link>, and <link linkend="_a18599_source_1l00185">handleInterrupt()</link>.</para>
</section>
<anchor xml:id="_a19537_1a7b6bb52a8072c51bfcb4f4877c3d0226"/><section>
    <title>interruptDescriptorTable</title>
<indexterm><primary>interruptDescriptorTable</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>interruptDescriptorTable</secondary></indexterm>
<para><computeroutput><link linkend="_a19533">IDT_row</link> hardware_communication::InterruptManager::interruptDescriptorTable[256]<computeroutput>[protected]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a18569_source_1l00055">55</link> of file <link linkend="_a18569_source">kinterrupt.hpp</link>.</para>
</section>
<anchor xml:id="_a19537_1a1991d8428ff7c74b31f42d48bb49547a"/><section>
    <title>limit</title>
<indexterm><primary>limit</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>limit</secondary></indexterm>
<para><computeroutput>uint16_t hardware_communication::InterruptManager::limit</computeroutput></para><para>
Definition at line <link linkend="_a18569_source_1l00052">52</link> of file <link linkend="_a18569_source">kinterrupt.hpp</link>.</para>
</section>
<anchor xml:id="_a19537_1acb04723d03d6b34abbc5f7407cab0b33"/><section>
    <title>picMasterCommand</title>
<indexterm><primary>picMasterCommand</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>picMasterCommand</secondary></indexterm>
<para><computeroutput><link linkend="_a19549">hardware_communication::Port8BitSlow</link> hardware_communication::InterruptManager::picMasterCommand<computeroutput>[static]</computeroutput>, <computeroutput>[protected]</computeroutput></computeroutput></para><para>

<para>Command port for the Master PIC (8259A). </para>
</para>
<para>
Definition at line <link linkend="_a18569_source_1l00066">66</link> of file <link linkend="_a18569_source">kinterrupt.hpp</link>.</para>
</section>
<anchor xml:id="_a19537_1a5287e31a546f60708b085b387332a904"/><section>
    <title>picMasterData</title>
<indexterm><primary>picMasterData</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>picMasterData</secondary></indexterm>
<para><computeroutput><link linkend="_a19549">hardware_communication::Port8BitSlow</link> hardware_communication::InterruptManager::picMasterData<computeroutput>[static]</computeroutput>, <computeroutput>[protected]</computeroutput></computeroutput></para><para>

<para>Data port for the Master PIC (8259A). </para>
</para>
<para>
Definition at line <link linkend="_a18569_source_1l00067">67</link> of file <link linkend="_a18569_source">kinterrupt.hpp</link>.</para>
</section>
<anchor xml:id="_a19537_1afed9d24b37c8f9386a71f4284b2502a4"/><section>
    <title>picSlaveCommand</title>
<indexterm><primary>picSlaveCommand</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>picSlaveCommand</secondary></indexterm>
<para><computeroutput><link linkend="_a19549">hardware_communication::Port8BitSlow</link> hardware_communication::InterruptManager::picSlaveCommand<computeroutput>[static]</computeroutput>, <computeroutput>[protected]</computeroutput></computeroutput></para><para>

<para>Command port for the Slave PIC (8259A). </para>
</para>
<para>
Definition at line <link linkend="_a18569_source_1l00068">68</link> of file <link linkend="_a18569_source">kinterrupt.hpp</link>.</para>
</section>
<anchor xml:id="_a19537_1ac1111b7cfbd27b37f03a0678ae5dbaf1"/><section>
    <title>picSlaveData</title>
<indexterm><primary>picSlaveData</primary><secondary>hardware_communication::InterruptManager</secondary></indexterm>
<indexterm><primary>hardware_communication::InterruptManager</primary><secondary>picSlaveData</secondary></indexterm>
<para><computeroutput><link linkend="_a19549">hardware_communication::Port8BitSlow</link> hardware_communication::InterruptManager::picSlaveData<computeroutput>[static]</computeroutput>, <computeroutput>[protected]</computeroutput></computeroutput></para><para>

<para>Data port for the Slave PIC (8259A). </para>
</para>
<para>
Definition at line <link linkend="_a18569_source_1l00069">69</link> of file <link linkend="_a18569_source">kinterrupt.hpp</link>.</para>
</section>
<para>
The documentation for this class was generated from the following files:</para>
/home/shreekar/Desktop/Building_own_OS/OSOS/libk_header/hardware_communication/<link linkend="_a18569">kinterrupt.hpp</link>/home/shreekar/Desktop/Building_own_OS/OSOS/libk_src/hardware_communication/<link linkend="_a18599">kinterrupt.cpp</link></section>
</section>
