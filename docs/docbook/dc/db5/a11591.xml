<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_a11591" xml:lang="en-US">
<title>/home/shreekar/Desktop/Building_own_OS/OSOS/libk_src/basic/kiostream.cpp File Reference</title>
<indexterm><primary>/home/shreekar/Desktop/Building_own_OS/OSOS/libk_src/basic/kiostream.cpp</primary></indexterm>
<programlisting linenumbering="unnumbered">#include &quot;basic/kiostream.hpp&quot;<?linebreak?>#include &quot;driver/kmouse.hpp&quot;<?linebreak?></programlisting>Include dependency graph for kiostream.cpp:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../d7/d24/a11592.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Macros    </title>
        <itemizedlist>
            <listitem><para>#define <link linkend="_a11591_1a887422301cbe9a94f8b96263415640cf">MAGIC_HEIGHT</link>&#160;&#160;&#160;25</para>
</listitem>
            <listitem><para>#define <link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>&#160;&#160;&#160;80</para>
</listitem>
            <listitem><para>#define <link linkend="_a11591_1a49426d7a9b562958ad2ab7fbf134f368">TAB_WIDTH</link>&#160;&#160;&#160;4</para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Functions    </title>
        <itemizedlist>
            <listitem><para>static void <link linkend="_a11591_1af382674e4c9fb57a14b178d4ee12273a">doubleToString</link> (double d, char *buffer, int precision)</para>
</listitem>
            <listitem><para>static double <link linkend="_a11591_1a91bacd34c601c4cfe39f1ffa6c2a1385">power</link> (double <link linkend="_a11585_1ad516e6ff5b7dd7f6ce2946c527ddb8b9">base</link>, int exp)</para>
</listitem>
            <listitem><para>static void <link linkend="_a11591_1a6bd99ada5f7c46567ee0ceca6c369d47">printCharStr</link> (const char *str)</para>
</listitem>
            <listitem><para>static void <link linkend="_a11591_1aab6eb585b409591414f84a1e3f606345">printHex</link> (uintptr_t n, int digits)</para>
</listitem>
            <listitem><para>static void <link linkend="_a11591_1a913f40d6652965fdd1e34a04ab7dba2d">reverse</link> (char *str, int length)</para>
</listitem>
            <listitem><para>static void <link linkend="_a11591_1a14bf754296559bf0266e127e677e8107">ullToString</link> (unsigned long long n, char *buffer, int <link linkend="_a11585_1ad516e6ff5b7dd7f6ce2946c527ddb8b9">base</link>, int is_signed, int uppercase)</para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Variables    </title>
        <itemizedlist>
            <listitem><para>static int <link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link> = 0</para>
</listitem>
            <listitem><para>static int <link linkend="_a11591_1a1bda227f31ddf346294cb531f7554ef3">cursor_y_</link> = 0</para>
</listitem>
            <listitem><para>static <link linkend="_a12543">hardware_communication::Port8Bit</link> <link linkend="_a11591_1a32de8112c133d2f05cae84bde7d98239">vgaDataPort</link> (0x3D5)</para>
</listitem>
            <listitem><para>static <link linkend="_a12543">hardware_communication::Port8Bit</link> <link linkend="_a11591_1a0cece8394c6a6dedd523238e9057125f">vgaIndexPort</link> (0x3D4)</para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Macro Definition Documentation</title>
<anchor xml:id="_a11591_1a887422301cbe9a94f8b96263415640cf"/><section>
    <title>MAGIC_HEIGHT</title>
<indexterm><primary>MAGIC_HEIGHT</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>MAGIC_HEIGHT</secondary></indexterm>
<para><computeroutput>#define MAGIC_HEIGHT&#160;&#160;&#160;25</computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00008">8</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
</section>
<anchor xml:id="_a11591_1a5be9493285a1f50a67d98b887537217d"/><section>
    <title>MAGIC_WIDTH</title>
<indexterm><primary>MAGIC_WIDTH</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>MAGIC_WIDTH</secondary></indexterm>
<para><computeroutput>#define MAGIC_WIDTH&#160;&#160;&#160;80</computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00007">7</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
</section>
<anchor xml:id="_a11591_1a49426d7a9b562958ad2ab7fbf134f368"/><section>
    <title>TAB_WIDTH</title>
<indexterm><primary>TAB_WIDTH</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>TAB_WIDTH</secondary></indexterm>
<para><computeroutput>#define TAB_WIDTH&#160;&#160;&#160;4</computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00009">9</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
</section>
</section>
<section>
<title>Function Documentation</title>
<anchor xml:id="_a11591_1af382674e4c9fb57a14b178d4ee12273a"/><section>
    <title>doubleToString()</title>
<indexterm><primary>doubleToString</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>doubleToString</secondary></indexterm>
<para><computeroutput>static void doubleToString (double d, char * buffer, int precision)<computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00189">189</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00190 {
00191 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(precision&#32;&lt;&#32;0)
00192 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;precision&#32;=&#32;6;
00193 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;*ptr&#32;=&#32;buffer;
00194 
00195 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(d&#32;&lt;&#32;0)
00196 &#32;&#32;&#32;&#32;{
00197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*ptr++&#32;=&#32;<emphasis role="charliteral">&apos;-&apos;</emphasis>;
00198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;d&#32;=&#32;-d;
00199 &#32;&#32;&#32;&#32;}
00200 &#32;&#32;&#32;&#32;
00201 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;int_part&#32;=&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;long)d;
00202 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;frac_part&#32;=&#32;d&#32;-&#32;(double)int_part;
00203 
00204 &#32;&#32;&#32;&#32;<link linkend="_a11591_1a14bf754296559bf0266e127e677e8107">ullToString</link>(int_part,&#32;ptr,&#32;10,&#32;0,&#32;0);
00205 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>&#32;(*ptr)&#32;ptr++;
00206 
00207 &#32;&#32;&#32;&#32;*ptr++&#32;=&#32;<emphasis role="charliteral">&apos;.&apos;</emphasis>;
00208 &#32;&#32;&#32;&#32;
00209 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;frac_as_ull&#32;=&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;long)(frac_part&#32;*&#32;<link linkend="_a11591_1a91bacd34c601c4cfe39f1ffa6c2a1385">power</link>(10,&#32;precision)&#32;+&#32;0.5);
00210 &#32;&#32;&#32;&#32;
00211 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;frac_buffer[32];
00212 &#32;&#32;&#32;&#32;<link linkend="_a11591_1a14bf754296559bf0266e127e677e8107">ullToString</link>(frac_as_ull,&#32;frac_buffer,&#32;10,&#32;0,&#32;0);
00213 
00214 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;frac_len&#32;=&#32;0;
00215 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>(frac_buffer[frac_len]&#32;!=&#32;<emphasis role="charliteral">&apos;\0&apos;</emphasis>)&#32;frac_len++;
00216 &#32;&#32;&#32;&#32;
00217 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;padding&#32;=&#32;precision&#32;-&#32;frac_len;
00218 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;padding;&#32;i++)
00219 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*ptr++&#32;=&#32;<emphasis role="charliteral">&apos;0&apos;</emphasis>;
00220 &#32;&#32;&#32;&#32;
00221 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>*&#32;frac_ptr&#32;=&#32;frac_buffer;
00222 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>(*frac_ptr)&#32;*ptr++&#32;=&#32;*frac_ptr++;
00223 
00224 &#32;&#32;&#32;&#32;*ptr&#32;=&#32;<emphasis role="charliteral">&apos;\0&apos;</emphasis>;
00225 }
</programlisting><para>
References <link linkend="_a11591_source_1l00181">power()</link>, and <link linkend="_a11591_source_1l00147">ullToString()</link>.</para>
<para>
Referenced by <link linkend="_a11591_source_1l00276">basic::printf()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_af382674e4c9fb57a14b178d4ee12273a_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_af382674e4c9fb57a14b178d4ee12273a_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a11591_1a91bacd34c601c4cfe39f1ffa6c2a1385"/><section>
    <title>power()</title>
<indexterm><primary>power</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>power</secondary></indexterm>
<para><computeroutput>static double power (double base, int exp)<computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00181">181</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00182 {
00183 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">double</emphasis>&#32;res&#32;=&#32;1.0;
00184 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;exp;&#32;++i)
00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;res&#32;*=&#32;<link linkend="_a11585_1ad516e6ff5b7dd7f6ce2946c527ddb8b9">base</link>;
00186 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;res;
00187 }
</programlisting><para>
References <link linkend="_a11585_source_1l00002">base</link>.</para>
<para>
Referenced by <link linkend="_a11591_source_1l00189">doubleToString()</link>.</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_a91bacd34c601c4cfe39f1ffa6c2a1385_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a11591_1a6bd99ada5f7c46567ee0ceca6c369d47"/><section>
    <title>printCharStr()</title>
<indexterm><primary>printCharStr</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>printCharStr</secondary></indexterm>
<para><computeroutput>static void printCharStr (const char * str)<computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00041">41</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00042 {
00043 &#32;&#32;&#32;&#32;uint16_t&#32;*video_memory&#32;=&#32;(uint16_t&#32;*)0xb8000;
00044 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;FOR&#32;TEXT&#32;:&#32;Attribute&#32;for&#32;Gray-White&#32;(0x7)&#32;text&#32;on&#32;a&#32;Black&#32;(0x0)&#32;background&#32;(last&#32;2&#32;bytes&#32;(LSBs)&#32;are&#32;not&#32;used&#32;for&#32;color).</emphasis>
00045 &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;uint16_t&#32;color_attribute&#32;=&#32;0x0700;
00046 
00047 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;---&#32;MOUSE-SAFE&#32;PRINTING:&#32;remove&#32;mouse&#32;---</emphasis>
00048 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;mouse_offset&#32;=&#32;<link linkend="_a12511_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>&#32;*&#32;<link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>&#32;+&#32;<link linkend="_a12511_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>;
00049 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(mouse_offset&gt;=0)&#32;video_memory[mouse_offset]&#32;=&#32;<link linkend="_a12511_1a4a671e7e2b235f6bec473cb960401bd6">driver::MouseDriver::old_char_under_mouse_pointer</link>;
00050 
00051 
00052 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;str[i]&#32;!=&#32;<emphasis role="charliteral">&apos;\0&apos;</emphasis>;&#32;i++)
00053 &#32;&#32;&#32;&#32;{
00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(str[i]&#32;==&#32;<emphasis role="charliteral">&apos;\n&apos;</emphasis>)
00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a1bda227f31ddf346294cb531f7554ef3">cursor_y_</link>++;
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>&#32;=&#32;0;
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">if</emphasis>&#32;(str[i]&#32;==&#32;<emphasis role="charliteral">&apos;\b&apos;</emphasis>)
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>&#32;&gt;&#32;0)
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>--;
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;offset&#32;=&#32;<link linkend="_a11591_1a1bda227f31ddf346294cb531f7554ef3">cursor_y_</link>&#32;*&#32;<link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>&#32;+&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>;
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;video_memory[offset]&#32;=&#32;color_attribute&#32;|&#32;<emphasis role="charliteral">&apos;&#32;&apos;</emphasis>;
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">if</emphasis>&#32;(str[i]&#32;==&#32;<emphasis role="charliteral">&apos;\r&apos;</emphasis>)
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>&#32;=&#32;0;
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">if</emphasis>&#32;(str[i]&#32;==&#32;<emphasis role="charliteral">&apos;\t&apos;</emphasis>)
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>&#32;=&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>&#32;+&#32;(<link linkend="_a11591_1a49426d7a9b562958ad2ab7fbf134f368">TAB_WIDTH</link>&#32;-&#32;(<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>&#32;%&#32;<link linkend="_a11591_1a49426d7a9b562958ad2ab7fbf134f368">TAB_WIDTH</link>));
00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
00077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;offset&#32;=&#32;<link linkend="_a11591_1a1bda227f31ddf346294cb531f7554ef3">cursor_y_</link>&#32;*&#32;<link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>&#32;+&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>;
00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;video_memory[offset]&#32;=&#32;color_attribute&#32;|&#32;str[i];
00080 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>++;
00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00082 
00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>&#32;&gt;=&#32;<link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>)
00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a1bda227f31ddf346294cb531f7554ef3">cursor_y_</link>++;
00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>&#32;=&#32;0;
00087 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00088 
00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_a11591_1a1bda227f31ddf346294cb531f7554ef3">cursor_y_</link>&#32;&gt;=&#32;<link linkend="_a11591_1a887422301cbe9a94f8b96263415640cf">MAGIC_HEIGHT</link>)
00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;y&#32;=&#32;0;&#32;y&#32;&lt;&#32;(<link linkend="_a11591_1a887422301cbe9a94f8b96263415640cf">MAGIC_HEIGHT</link>&#32;-&#32;1);&#32;y++)
00092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;x&#32;=&#32;0;&#32;x&#32;&lt;&#32;<link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>;&#32;x++)
00094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;current_offset&#32;=&#32;y&#32;*&#32;<link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>&#32;+&#32;x;
00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;next_line_offset&#32;=&#32;(y&#32;+&#32;1)&#32;*&#32;<link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>&#32;+&#32;x;
00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;video_memory[current_offset]&#32;=&#32;video_memory[next_line_offset];
00098 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00099 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00100 
00101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;last_line_offset_start&#32;=&#32;(<link linkend="_a11591_1a887422301cbe9a94f8b96263415640cf">MAGIC_HEIGHT</link>&#32;-&#32;1)&#32;*&#32;<link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>;
00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;x&#32;=&#32;0;&#32;x&#32;&lt;&#32;<link linkend="_a11591_1a5be9493285a1f50a67d98b887537217d">MAGIC_WIDTH</link>;&#32;x++)
00103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;video_memory[last_line_offset_start&#32;+&#32;x]&#32;=&#32;color_attribute&#32;|&#32;<emphasis role="charliteral">&apos;&#32;&apos;</emphasis>;
00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00106 
00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a1bda227f31ddf346294cb531f7554ef3">cursor_y_</link>&#32;=&#32;<link linkend="_a11591_1a887422301cbe9a94f8b96263415640cf">MAGIC_HEIGHT</link>&#32;-&#32;1;
00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a133981c4ba48aed67a5b874f7b213583">cursor_x_</link>&#32;=&#32;0;
00109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00110 &#32;&#32;&#32;&#32;}
00111 
00112 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;---&#32;MOUSE-SAFE&#32;PRINTING:&#32;add&#32;mouse&#32;again---</emphasis>
00113 &#32;&#32;&#32;&#32;<link linkend="_a12511_1a4a671e7e2b235f6bec473cb960401bd6">driver::MouseDriver::old_char_under_mouse_pointer</link>&#32;=&#32;video_memory[mouse_offset];
00114 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(mouse_offset&gt;=0)&#32;video_memory[mouse_offset]&#32;=&#32;<link linkend="_a12511_1a1a2a455ca7146dea3148afa8cb6c9ed5">driver::MouseDriver::mouse_block_video_mem_value</link>(<link linkend="_a12511_1a4a671e7e2b235f6bec473cb960401bd6">driver::MouseDriver::old_char_under_mouse_pointer</link>,&#32;<link linkend="_a11576_1a637dd833f5f7af42afa1f42349a4d89e">MOUSE_POINTER_COLOR</link>);
00115 
00116 }
</programlisting><para>
References <link linkend="_a11576_source_1l00050">driver::MouseDriver::__mouse_x_</link>, <link linkend="_a11576_source_1l00050">driver::MouseDriver::__mouse_y_</link>, <link linkend="_a11591_source_1l00004">cursor_x_</link>, <link linkend="_a11591_source_1l00005">cursor_y_</link>, <link linkend="_a11591_source_1l00008">MAGIC_HEIGHT</link>, <link linkend="_a11591_source_1l00007">MAGIC_WIDTH</link>, <link linkend="_a11606_source_1l00017">driver::MouseDriver::mouse_block_video_mem_value()</link>, <link linkend="_a11576_source_1l00025">MOUSE_POINTER_COLOR</link>, <link linkend="_a11576_source_1l00048">driver::MouseDriver::old_char_under_mouse_pointer</link>, and <link linkend="_a11591_source_1l00009">TAB_WIDTH</link>.</para>
<para>
Referenced by <link linkend="_a11591_source_1l00276">basic::printf()</link>, and <link linkend="_a11591_source_1l00227">printHex()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_a6bd99ada5f7c46567ee0ceca6c369d47_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_a6bd99ada5f7c46567ee0ceca6c369d47_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a11591_1aab6eb585b409591414f84a1e3f606345"/><section>
    <title>printHex()</title>
<indexterm><primary>printHex</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>printHex</secondary></indexterm>
<para><computeroutput>static void printHex (uintptr_t n, int digits)<computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00227">227</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00227 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00228 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;buffer[32];
00229 &#32;&#32;&#32;&#32;<link linkend="_a11591_1a14bf754296559bf0266e127e677e8107">ullToString</link>(n,&#32;buffer,&#32;16,&#32;0,&#32;1);&#32;<emphasis role="comment">//&#32;Use&#32;uppercase&#32;for&#32;pointers&#32;typically</emphasis>
00230 
00231 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_a11558_1a6de3a6d27a7e07942958b912d39792e6">len</link>&#32;=&#32;0;
00232 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>&#32;(buffer[<link linkend="_a11558_1a6de3a6d27a7e07942958b912d39792e6">len</link>]&#32;!=&#32;<emphasis role="charliteral">&apos;\0&apos;</emphasis>)&#32;{
00233 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11558_1a6de3a6d27a7e07942958b912d39792e6">len</link>++;
00234 &#32;&#32;&#32;&#32;}
00235 
00236 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;digits&#32;-&#32;<link linkend="_a11558_1a6de3a6d27a7e07942958b912d39792e6">len</link>;&#32;i++)&#32;{
00237 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a11591_1a6bd99ada5f7c46567ee0ceca6c369d47">printCharStr</link>(<emphasis role="stringliteral">&quot;0&quot;</emphasis>);
00238 &#32;&#32;&#32;&#32;}
00239 &#32;&#32;&#32;&#32;<link linkend="_a11591_1a6bd99ada5f7c46567ee0ceca6c369d47">printCharStr</link>(buffer);
00240 }
</programlisting><para>
References <link linkend="_a11558_source_1l00002">len</link>, <link linkend="_a11591_source_1l00041">printCharStr()</link>, and <link linkend="_a11591_source_1l00147">ullToString()</link>.</para>
<para>
Referenced by <link linkend="_a11591_source_1l00276">basic::printf()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_aab6eb585b409591414f84a1e3f606345_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_aab6eb585b409591414f84a1e3f606345_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a11591_1a913f40d6652965fdd1e34a04ab7dba2d"/><section>
    <title>reverse()</title>
<indexterm><primary>reverse</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>reverse</secondary></indexterm>
<para><computeroutput>static void reverse (char * str, int length)<computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00133">133</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00134 {
00135 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;start&#32;=&#32;0;
00136 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;end&#32;=&#32;length&#32;-&#32;1;
00137 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>&#32;(start&#32;&lt;&#32;end)
00138 &#32;&#32;&#32;&#32;{
00139 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;temp&#32;=&#32;str[start];
00140 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;str[start]&#32;=&#32;str[end];
00141 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;str[end]&#32;=&#32;temp;
00142 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;start++;
00143 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;end--;
00144 &#32;&#32;&#32;&#32;}
00145 }
</programlisting><para>
Referenced by <link linkend="_a11591_source_1l00147">ullToString()</link>.</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_a913f40d6652965fdd1e34a04ab7dba2d_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a11591_1a14bf754296559bf0266e127e677e8107"/><section>
    <title>ullToString()</title>
<indexterm><primary>ullToString</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>ullToString</secondary></indexterm>
<para><computeroutput>static void ullToString (unsigned long long n, char * buffer, int base, int is_signed, int uppercase)<computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00147">147</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00148 {
00149 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;
00150 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;isNegative&#32;=&#32;0;
00151 
00152 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(n&#32;==&#32;0)
00153 &#32;&#32;&#32;&#32;{
00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;buffer[i++]&#32;=&#32;<emphasis role="charliteral">&apos;0&apos;</emphasis>;
00155 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;buffer[i]&#32;=&#32;<emphasis role="charliteral">&apos;\0&apos;</emphasis>;
00156 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
00157 &#32;&#32;&#32;&#32;}
00158 
00159 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(is_signed&#32;&amp;&amp;&#32;(<emphasis role="keywordtype">long</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>)n&#32;&lt;&#32;0)
00160 &#32;&#32;&#32;&#32;{
00161 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;isNegative&#32;=&#32;1;
00162 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;n&#32;=&#32;-(<emphasis role="keywordtype">long</emphasis>&#32;long)n;
00163 &#32;&#32;&#32;&#32;}
00164 
00165 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>&#32;(n&#32;!=&#32;0)
00166 &#32;&#32;&#32;&#32;{
00167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;rem&#32;=&#32;n&#32;%&#32;<link linkend="_a11585_1ad516e6ff5b7dd7f6ce2946c527ddb8b9">base</link>;
00168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;buffer[i++]&#32;=&#32;(rem&#32;&gt;&#32;9)&#32;?&#32;((rem&#32;-&#32;10)&#32;+&#32;(uppercase&#32;?&#32;<emphasis role="charliteral">&apos;A&apos;</emphasis>&#32;:&#32;<emphasis role="charliteral">&apos;a&apos;</emphasis>))&#32;:&#32;(rem&#32;+&#32;<emphasis role="charliteral">&apos;0&apos;</emphasis>);
00169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;n&#32;=&#32;n&#32;/&#32;<link linkend="_a11585_1ad516e6ff5b7dd7f6ce2946c527ddb8b9">base</link>;
00170 &#32;&#32;&#32;&#32;}
00171 
00172 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(isNegative)
00173 &#32;&#32;&#32;&#32;{
00174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;buffer[i++]&#32;=&#32;<emphasis role="charliteral">&apos;-&apos;</emphasis>;
00175 &#32;&#32;&#32;&#32;}
00176 
00177 &#32;&#32;&#32;&#32;buffer[i]&#32;=&#32;<emphasis role="charliteral">&apos;\0&apos;</emphasis>;
00178 &#32;&#32;&#32;&#32;<link linkend="_a11591_1a913f40d6652965fdd1e34a04ab7dba2d">reverse</link>(buffer,&#32;i);
00179 }
</programlisting><para>
References <link linkend="_a11585_source_1l00002">base</link>, and <link linkend="_a11591_source_1l00133">reverse()</link>.</para>
<para>
Referenced by <link linkend="_a11591_source_1l00189">doubleToString()</link>, <link linkend="_a11591_source_1l00276">basic::printf()</link>, and <link linkend="_a11591_source_1l00227">printHex()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_a14bf754296559bf0266e127e677e8107_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../dc/db5/a11591_a14bf754296559bf0266e127e677e8107_icgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
</section>
<section>
<title>Variable Documentation</title>
<anchor xml:id="_a11591_1a133981c4ba48aed67a5b874f7b213583"/><section>
    <title>cursor_x_</title>
<indexterm><primary>cursor_x_</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>cursor_x_</secondary></indexterm>
<para><computeroutput>int cursor_x_ = 0<computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00004">4</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
<para>
Referenced by <link linkend="_a11591_source_1l00118">basic::__clearScreen()</link>, <link linkend="_a11591_source_1l00041">printCharStr()</link>, <link linkend="_a11591_source_1l00276">basic::printf()</link>, and <link linkend="_a11591_source_1l00025">basic::update_cursor()</link>.</para>
</section>
<anchor xml:id="_a11591_1a1bda227f31ddf346294cb531f7554ef3"/><section>
    <title>cursor_y_</title>
<indexterm><primary>cursor_y_</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>cursor_y_</secondary></indexterm>
<para><computeroutput>int cursor_y_ = 0<computeroutput>[static]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a11591_source_1l00005">5</link> of file <link linkend="_a11591_source">kiostream.cpp</link>.</para>
<para>
Referenced by <link linkend="_a11591_source_1l00118">basic::__clearScreen()</link>, <link linkend="_a11591_source_1l00041">printCharStr()</link>, <link linkend="_a11591_source_1l00276">basic::printf()</link>, and <link linkend="_a11591_source_1l00025">basic::update_cursor()</link>.</para>
</section>
<anchor xml:id="_a11591_1a32de8112c133d2f05cae84bde7d98239"/><section>
    <title>vgaDataPort</title>
<indexterm><primary>vgaDataPort</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>vgaDataPort</secondary></indexterm>
<para><computeroutput><link linkend="_a12543">hardware_communication::Port8Bit</link> vgaDataPort(0x3D5) (0x3D5 )<computeroutput>[static]</computeroutput></computeroutput></para><para>
Referenced by <link linkend="_a11591_source_1l00035">basic::disable_cursor()</link>, <link linkend="_a11591_source_1l00017">basic::enable_cursor()</link>, and <link linkend="_a11591_source_1l00025">basic::update_cursor()</link>.</para>
</section>
<anchor xml:id="_a11591_1a0cece8394c6a6dedd523238e9057125f"/><section>
    <title>vgaIndexPort</title>
<indexterm><primary>vgaIndexPort</primary><secondary>kiostream.cpp</secondary></indexterm>
<indexterm><primary>kiostream.cpp</primary><secondary>vgaIndexPort</secondary></indexterm>
<para><computeroutput><link linkend="_a12543">hardware_communication::Port8Bit</link> vgaIndexPort(0x3D4) (0x3D4 )<computeroutput>[static]</computeroutput></computeroutput></para><para>
Referenced by <link linkend="_a11591_source_1l00035">basic::disable_cursor()</link>, <link linkend="_a11591_source_1l00017">basic::enable_cursor()</link>, and <link linkend="_a11591_source_1l00025">basic::update_cursor()</link>.</para>
</section>
</section>
</section>
