\doxysubsection{driver\+::Mouse\+Driver}
\hypertarget{a07612}{}\label{a07612}\index{driver::MouseDriver@{driver::MouseDriver}}


{\ttfamily \#include "{}kmouse.\+hpp"{}}



Inheritance diagram for driver\+::Mouse\+Driver\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d49/a07611}
\end{center}
\end{figure}


Collaboration diagram for driver\+::Mouse\+Driver\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d42/a07610}
\end{center}
\end{figure}
\doxysubsubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{a07612_a639956c8ce11d62ee443825e9b9695af}{Mouse\+Driver}} (\mbox{\hyperlink{a07636}{hardware\+\_\+communication\+::\+Interrupt\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{a07628_ae86f4eae0ce9272b2027d44bdfd71e33}{interrupt\+\_\+manager}}, \mbox{\hyperlink{a07608}{Mouse\+Event\+Handler}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{a07612_a804f5657a062e0a18f3b56781f884c66}{mouse\+Event\+Handler}})
\item 
\mbox{\hyperlink{a07612_a8c25e4a4b42d1d39b332ba6d4cbd6a22}{\texorpdfstring{$\sim$}{\string~}\+Mouse\+Driver}} ()
\item 
void \mbox{\hyperlink{a07612_a446769df0b3b537a525476c7c8be47bc}{activate}} () override
\item 
void \mbox{\hyperlink{a07612_a4329c1cdedc72adf0b95cb3911c4acf6}{deactivate}} () override
\item 
uint32\+\_\+t \mbox{\hyperlink{a07612_a1b2f08490b7954e5ca504cd8bb6862c0}{handle\+Interrupt}} (uint32\+\_\+t esp) override
\item 
virtual uintptr\+\_\+t \mbox{\hyperlink{a07628_aa89d41d69840cb4f1c8692fa6ded28f4}{handle\+Interrupt}} (uintptr\+\_\+t esp)=0
\item 
int \mbox{\hyperlink{a07612_aabe3740996bf70fda96f0a25228954a6}{reset}} () override
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static uint16\+\_\+t \mbox{\hyperlink{a07612_a1a2a455ca7146dea3148afa8cb6c9ed5}{mouse\+\_\+block\+\_\+video\+\_\+mem\+\_\+value}} (uint16\+\_\+t \mbox{\hyperlink{a07612_a4a671e7e2b235f6bec473cb960401bd6}{old\+\_\+char\+\_\+under\+\_\+mouse\+\_\+pointer}}, uint8\+\_\+t mouse\+\_\+pointer\+\_\+color)
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static int8\+\_\+t \mbox{\hyperlink{a07612_ac2077f6309c79d5f585fb966b57fe065}{\+\_\+\+\_\+mouse\+\_\+x\+\_\+}} = -\/1
\item 
static int8\+\_\+t \mbox{\hyperlink{a07612_aa02009b37420687ef18db8a05ff9181f}{\+\_\+\+\_\+mouse\+\_\+y\+\_\+}} = -\/1
\item 
static uint16\+\_\+t \mbox{\hyperlink{a07612_a4a671e7e2b235f6bec473cb960401bd6}{old\+\_\+char\+\_\+under\+\_\+mouse\+\_\+pointer}}
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{a06692_a6c5563315b1a2f5c67ae8b78d06e3c7f}{Interrupt\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{a07628_ae86f4eae0ce9272b2027d44bdfd71e33}{interrupt\+\_\+manager}}
\item 
uint8\+\_\+t \mbox{\hyperlink{a07628_afeede822d3e98957e76e627a54ec2f7a}{interrupt\+Number}}
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int8\+\_\+t \mbox{\hyperlink{a07612_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}} \mbox{[}3\mbox{]}
\item 
uint8\+\_\+t \mbox{\hyperlink{a07612_a7942997bd5ead2767e9627d91789dd70}{buttons}}
\item 
\mbox{\hyperlink{a07644}{hardware\+\_\+communication\+::\+Port8\+Bit}} \mbox{\hyperlink{a07612_a2877a9f46dd83a5f05f17fd83a0a7725}{command\+Port}}
\item 
\mbox{\hyperlink{a07644}{hardware\+\_\+communication\+::\+Port8\+Bit}} \mbox{\hyperlink{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046}{data\+Port}}
\item 
\mbox{\hyperlink{a07608}{Mouse\+Event\+Handler}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{a07612_a804f5657a062e0a18f3b56781f884c66}{mouse\+Event\+Handler}}
\item 
uint8\+\_\+t \mbox{\hyperlink{a07612_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}


Definition at line \mbox{\hyperlink{a06701_source_l00039}{39}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.



\doxysubsubsection{Constructor \& Destructor Documentation}
\Hypertarget{a07612_a639956c8ce11d62ee443825e9b9695af}\label{a07612_a639956c8ce11d62ee443825e9b9695af} 
\index{driver::MouseDriver@{driver::MouseDriver}!MouseDriver@{MouseDriver}}
\index{MouseDriver@{MouseDriver}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{MouseDriver()}{MouseDriver()}}
{\footnotesize\ttfamily driver\+::\+Mouse\+Driver\+::\+Mouse\+Driver (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a07636}{hardware\+\_\+communication\+::\+Interrupt\+Manager}} \texorpdfstring{$\ast$}{*}}]{interrupt\+\_\+manager,  }\item[{\mbox{\hyperlink{a07608}{driver\+::\+Mouse\+Event\+Handler}} \texorpdfstring{$\ast$}{*}}]{mouse\+Event\+Handler }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{a06629_source_l00022}{22}} of file \mbox{\hyperlink{a06629_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00023\ :\ \mbox{\hyperlink{a07628}{hardware\_communication::InterruptHandler}}(0x2C,\ \mbox{\hyperlink{a07628_ae86f4eae0ce9272b2027d44bdfd71e33}{interrupt\_manager}}),\ }
\DoxyCodeLine{00024\ \ \ \mbox{\hyperlink{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}(0x60),\ }
\DoxyCodeLine{00025\ \ \ \mbox{\hyperlink{a07612_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}(0x64)}
\DoxyCodeLine{00026\ \{}
\DoxyCodeLine{00027\ \ \ \ \ this-\/>mouseEventHandler\ =\ \mbox{\hyperlink{a07612_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}};}
\DoxyCodeLine{00028\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{a06701_source_l00045}{mouse\+Event\+Handler}}.

\Hypertarget{a07612_a8c25e4a4b42d1d39b332ba6d4cbd6a22}\label{a07612_a8c25e4a4b42d1d39b332ba6d4cbd6a22} 
\index{driver::MouseDriver@{driver::MouseDriver}!````~MouseDriver@{\texorpdfstring{$\sim$}{\string~}MouseDriver}}
\index{````~MouseDriver@{\texorpdfstring{$\sim$}{\string~}MouseDriver}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}MouseDriver()}{\string~MouseDriver()}}
{\footnotesize\ttfamily driver\+::\+Mouse\+Driver\+::\texorpdfstring{$\sim$}{\string~}\+Mouse\+Driver (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{a06629_source_l00030}{30}} of file \mbox{\hyperlink{a06629_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00030\ \{\}}

\end{DoxyCode}


\doxysubsubsection{Member Function Documentation}
\Hypertarget{a07612_a446769df0b3b537a525476c7c8be47bc}\label{a07612_a446769df0b3b537a525476c7c8be47bc} 
\index{driver::MouseDriver@{driver::MouseDriver}!activate@{activate}}
\index{activate@{activate}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{activate()}{activate()}}
{\footnotesize\ttfamily void driver\+::\+Mouse\+Driver\+::activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{a07592_a8c86c1e52652d8b491d37a3b60b535b0}{driver\+::\+Driver}}.



Definition at line \mbox{\hyperlink{a06629_source_l00074}{74}} of file \mbox{\hyperlink{a06629_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordflow}{while}(\mbox{\hyperlink{a07612_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a07644_ae8688251b574c3fd335b99f7e93fff2d}{read}}()\ \&\ 1)\ \mbox{\hyperlink{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a07644_ae8688251b574c3fd335b99f7e93fff2d}{read}}();}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{a07612_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}\ =\ 0;}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{a07612_a7942997bd5ead2767e9627d91789dd70}{buttons}}\ =\ 0;}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{a07612_ac2077f6309c79d5f585fb966b57fe065}{\_\_mouse\_x\_}}\ =\ 40;}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{a07612_aa02009b37420687ef18db8a05ff9181f}{\_\_mouse\_y\_}}\ =\ 12;}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keyword}{static}\ uint16\_t*\ video\_memory\ =\ (uint16\_t*)\ 0xb8000;}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{a07612_a4a671e7e2b235f6bec473cb960401bd6}{old\_char\_under\_mouse\_pointer}}\ =\ video\_memory[80\ *\ \mbox{\hyperlink{a07612_aa02009b37420687ef18db8a05ff9181f}{\_\_mouse\_y\_}}\ +\ \mbox{\hyperlink{a07612_ac2077f6309c79d5f585fb966b57fe065}{\_\_mouse\_x\_}}];}
\DoxyCodeLine{00083\ \ \ \ \ video\_memory[80\ *\ \mbox{\hyperlink{a07612_aa02009b37420687ef18db8a05ff9181f}{\_\_mouse\_y\_}}\ +\ \mbox{\hyperlink{a07612_ac2077f6309c79d5f585fb966b57fe065}{\_\_mouse\_x\_}}]\ =\ \mbox{\hyperlink{a07612_a1a2a455ca7146dea3148afa8cb6c9ed5}{mouse\_block\_video\_mem\_value}}(\mbox{\hyperlink{a07612_a4a671e7e2b235f6bec473cb960401bd6}{old\_char\_under\_mouse\_pointer}},\ \mbox{\hyperlink{a06701_a637dd833f5f7af42afa1f42349a4d89e}{MOUSE\_POINTER\_COLOR}});}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ Enable\ the\ auxiliary\ mouse\ device}}
\DoxyCodeLine{00086\ \ \ \ \ \mbox{\hyperlink{a07612_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a07644_a523b6a757b27418dc015ed13e74bef60}{write}}(0xA8);\ }
\DoxyCodeLine{00087\ \ \ \ \ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//\ Enable\ the\ interrupts\ for\ the\ mouse}}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{a07612_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a07644_a523b6a757b27418dc015ed13e74bef60}{write}}(0x20);\ }
\DoxyCodeLine{00090\ \ \ \ \ uint8\_t\ status\ =\ (\mbox{\hyperlink{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a07644_ae8688251b574c3fd335b99f7e93fff2d}{read}}()\ |\ 2);\ }
\DoxyCodeLine{00091\ \ \ \ \ \mbox{\hyperlink{a07612_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a07644_a523b6a757b27418dc015ed13e74bef60}{write}}(0x60);}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a07644_a523b6a757b27418dc015ed13e74bef60}{write}}(status);}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ Set\ mouse\ to\ use\ default\ settings\ and\ enable\ packet\ streaming}}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{a07612_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a07644_a523b6a757b27418dc015ed13e74bef60}{write}}(0xD4);}
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a07644_a523b6a757b27418dc015ed13e74bef60}{write}}(0xF4);}
\DoxyCodeLine{00097\ \ \ \ \ \mbox{\hyperlink{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a07644_ae8688251b574c3fd335b99f7e93fff2d}{read}}();\ \textcolor{comment}{//\ Acknowledge}}
\DoxyCodeLine{00098\ \ \ \ \ }
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{a06717_a45ee52b918a784ff0e96e7c8917a91d9}{basic::printf}}(\textcolor{stringliteral}{"{}Mouse\ Driver\ activated!\(\backslash\)n"{}});}
\DoxyCodeLine{00100\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{a06701_source_l00025}{MOUSE\+\_\+\+POINTER\+\_\+\+COLOR}}, and \mbox{\hyperlink{a06611_source_l00276}{basic\+::printf()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d08/a07612_a446769df0b3b537a525476c7c8be47bc_cgraph}
\end{center}
\end{figure}
\Hypertarget{a07612_a4329c1cdedc72adf0b95cb3911c4acf6}\label{a07612_a4329c1cdedc72adf0b95cb3911c4acf6} 
\index{driver::MouseDriver@{driver::MouseDriver}!deactivate@{deactivate}}
\index{deactivate@{deactivate}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{deactivate()}{deactivate()}}
{\footnotesize\ttfamily void driver\+::\+Mouse\+Driver\+::deactivate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{a07592_a4b3b5e5a163c2c0e3cb58ea752ebcef1}{driver\+::\+Driver}}.



Definition at line \mbox{\hyperlink{a06629_source_l00103}{103}} of file \mbox{\hyperlink{a06629_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00103\ \{\}}

\end{DoxyCode}
\Hypertarget{a07612_a1b2f08490b7954e5ca504cd8bb6862c0}\label{a07612_a1b2f08490b7954e5ca504cd8bb6862c0} 
\index{driver::MouseDriver@{driver::MouseDriver}!handleInterrupt@{handleInterrupt}}
\index{handleInterrupt@{handleInterrupt}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{handleInterrupt()}{handleInterrupt()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily uint32\+\_\+t driver\+::\+Mouse\+Driver\+::handle\+Interrupt (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{esp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line \mbox{\hyperlink{a06629_source_l00032}{32}} of file \mbox{\hyperlink{a06629_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ mouse\ has\ sent\ data}}
\DoxyCodeLine{00034\ \ \ \ \ uint8\_t\ status\ =\ \mbox{\hyperlink{a07612_a2877a9f46dd83a5f05f17fd83a0a7725}{commandPort}}.\mbox{\hyperlink{a07644_ae8688251b574c3fd335b99f7e93fff2d}{read}}();}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordflow}{if}(!(status\ \&\ 0x20))\ \textcolor{keywordflow}{return}\ esp;}
\DoxyCodeLine{00036\ \ \ \ \ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{//\ Read\ the\ next\ byte\ of\ the\ packet}}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{a07612_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[\mbox{\hyperlink{a07612_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}]\ =\ \mbox{\hyperlink{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046}{dataPort}}.\mbox{\hyperlink{a07644_ae8688251b574c3fd335b99f7e93fff2d}{read}}();}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{a07612_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}\ =\ (\mbox{\hyperlink{a07612_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}\ +\ 1)\ \%\ 3;}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//\ When\ a\ full\ 3-\/byte\ packet\ is\ received}}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{a07612_a313426dd9aa1af1540cbffc2e77c58c1}{offset}}\ ==\ 0)\{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{a07612_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}}\ ==\ 0)\ \textcolor{keywordflow}{return}\ esp;\ \textcolor{comment}{//\ Do\ nothing\ without\ a\ handler}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/\ Handle\ Mouse\ Movement\ -\/-\/-\/}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ int8\_t\ delta\_x\ =\ \mbox{\hyperlink{a07612_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[1];}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ int8\_t\ delta\_y\ =\ -\/\mbox{\hyperlink{a07612_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[2];\ \textcolor{comment}{//\ Y-\/axis\ is\ inverted\ from\ the\ mouse's\ perspective}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (delta\_x\ !=\ 0\ ||\ delta\_y\ !=\ 0)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{a07612_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}}-\/>\mbox{\hyperlink{a07608_a68f635b3b65f927d37d4e0835f7e0b30}{onMouseMove}}(delta\_x,\ delta\_y);}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/\ Handle\ Mouse\ Buttons\ -\/-\/-\/}}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(uint8\_t\ i\ =\ 0;\ i\ <\ 3;\ i++)\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ state\ of\ button\ 'i'\ has\ changed}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}((\mbox{\hyperlink{a07612_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[0]\ \&\ (1\ <<\ i))\ !=\ (\mbox{\hyperlink{a07612_a7942997bd5ead2767e9627d91789dd70}{buttons}}\ \&\ (1\ <<\ i)))\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{a07612_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[0]\ \&\ (1\ <<\ i))\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{a07612_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}}-\/>\mbox{\hyperlink{a07608_a2f12c5f63356c3045fd6cb46fd89374f}{onMouseDown}}(i\ +\ 1);\ \textcolor{comment}{//\ Left=1,\ Right=2,\ Middle=3}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{a07612_a804f5657a062e0a18f3b56781f884c66}{mouseEventHandler}}-\/>\mbox{\hyperlink{a07608_a09b77fe86bfa79313b5c5b91d09eb514}{onMouseUp}}(i\ +\ 1);}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{a07612_a7942997bd5ead2767e9627d91789dd70}{buttons}}\ =\ \mbox{\hyperlink{a07612_aaa1d55d296d88995ac49a8a9a75a79d4}{buffer}}[0];\ \textcolor{comment}{//\ Save\ the\ current\ button\ state\ for\ the\ next\ interrupt}}
\DoxyCodeLine{00065\ \ \ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordflow}{return}\ esp;}
\DoxyCodeLine{00068\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{a07608_a68f635b3b65f927d37d4e0835f7e0b30}{driver\+::\+Mouse\+Event\+Handler\+::on\+Mouse\+Move()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d08/a07612_a1b2f08490b7954e5ca504cd8bb6862c0_cgraph}
\end{center}
\end{figure}
\Hypertarget{a07628_aa89d41d69840cb4f1c8692fa6ded28f4}\label{a07628_aa89d41d69840cb4f1c8692fa6ded28f4} 
\index{driver::MouseDriver@{driver::MouseDriver}!handleInterrupt@{handleInterrupt}}
\index{handleInterrupt@{handleInterrupt}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{handleInterrupt()}{handleInterrupt()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily virtual uintptr\+\_\+t hardware\+\_\+communication\+::\+Interrupt\+Handler\+::handle\+Interrupt (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{esp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}, {\ttfamily [inherited]}}



Referenced by \mbox{\hyperlink{a06620_source_l00169}{hardware\+\_\+communication\+::\+Interrupt\+Manager\+::handle\+Interrupt()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/def/a07628_aa89d41d69840cb4f1c8692fa6ded28f4_icgraph}
\end{center}
\end{figure}
\Hypertarget{a07612_a1a2a455ca7146dea3148afa8cb6c9ed5}\label{a07612_a1a2a455ca7146dea3148afa8cb6c9ed5} 
\index{driver::MouseDriver@{driver::MouseDriver}!mouse\_block\_video\_mem\_value@{mouse\_block\_video\_mem\_value}}
\index{mouse\_block\_video\_mem\_value@{mouse\_block\_video\_mem\_value}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{mouse\_block\_video\_mem\_value()}{mouse\_block\_video\_mem\_value()}}
{\footnotesize\ttfamily uint16\+\_\+t driver\+::\+Mouse\+Driver\+::mouse\+\_\+block\+\_\+video\+\_\+mem\+\_\+value (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{old\+\_\+char\+\_\+under\+\_\+mouse\+\_\+pointer,  }\item[{uint8\+\_\+t}]{mouse\+\_\+pointer\+\_\+color }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{a06629_source_l00017}{17}} of file \mbox{\hyperlink{a06629_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordflow}{return}\ (current\_char\ \&\ 0x0FFF)\ |\ (mouse\_pointer\_color\ <<\ 12);}
\DoxyCodeLine{00019\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{a06647_source_l00043}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Move()}}, and \mbox{\hyperlink{a06611_source_l00041}{print\+Char\+Str()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d08/a07612_a1a2a455ca7146dea3148afa8cb6c9ed5_icgraph}
\end{center}
\end{figure}
\Hypertarget{a07612_aabe3740996bf70fda96f0a25228954a6}\label{a07612_aabe3740996bf70fda96f0a25228954a6} 
\index{driver::MouseDriver@{driver::MouseDriver}!reset@{reset}}
\index{reset@{reset}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily int driver\+::\+Mouse\+Driver\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{a07592_a98d2e779c02364fc58c172d0d2a32bdd}{driver\+::\+Driver}}.



Definition at line \mbox{\hyperlink{a06629_source_l00102}{102}} of file \mbox{\hyperlink{a06629_source}{kmouse.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \{\textcolor{keywordflow}{return}\ 0;\}}

\end{DoxyCode}


\doxysubsubsection{Member Data Documentation}
\Hypertarget{a07612_ac2077f6309c79d5f585fb966b57fe065}\label{a07612_ac2077f6309c79d5f585fb966b57fe065} 
\index{driver::MouseDriver@{driver::MouseDriver}!\_\_mouse\_x\_@{\_\_mouse\_x\_}}
\index{\_\_mouse\_x\_@{\_\_mouse\_x\_}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{\_\_mouse\_x\_}{\_\_mouse\_x\_}}
{\footnotesize\ttfamily int8\+\_\+t driver\+::\+Mouse\+Driver\+::\+\_\+\+\_\+mouse\+\_\+x\+\_\+ = -\/1\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{a06701_source_l00050}{50}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.



Referenced by \mbox{\hyperlink{a06647_source_l00032}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Down()}}, \mbox{\hyperlink{a06647_source_l00043}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Move()}}, and \mbox{\hyperlink{a06611_source_l00041}{print\+Char\+Str()}}.

\Hypertarget{a07612_aa02009b37420687ef18db8a05ff9181f}\label{a07612_aa02009b37420687ef18db8a05ff9181f} 
\index{driver::MouseDriver@{driver::MouseDriver}!\_\_mouse\_y\_@{\_\_mouse\_y\_}}
\index{\_\_mouse\_y\_@{\_\_mouse\_y\_}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{\_\_mouse\_y\_}{\_\_mouse\_y\_}}
{\footnotesize\ttfamily int8\+\_\+t driver\+::\+Mouse\+Driver\+::\+\_\+\+\_\+mouse\+\_\+y\+\_\+ = -\/1\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{a06701_source_l00050}{50}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.



Referenced by \mbox{\hyperlink{a06647_source_l00032}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Down()}}, \mbox{\hyperlink{a06647_source_l00043}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Move()}}, and \mbox{\hyperlink{a06611_source_l00041}{print\+Char\+Str()}}.

\Hypertarget{a07612_aaa1d55d296d88995ac49a8a9a75a79d4}\label{a07612_aaa1d55d296d88995ac49a8a9a75a79d4} 
\index{driver::MouseDriver@{driver::MouseDriver}!buffer@{buffer}}
\index{buffer@{buffer}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{buffer}{buffer}}
{\footnotesize\ttfamily int8\+\_\+t driver\+::\+Mouse\+Driver\+::buffer\mbox{[}3\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a06701_source_l00042}{42}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.

\Hypertarget{a07612_a7942997bd5ead2767e9627d91789dd70}\label{a07612_a7942997bd5ead2767e9627d91789dd70} 
\index{driver::MouseDriver@{driver::MouseDriver}!buttons@{buttons}}
\index{buttons@{buttons}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{buttons}{buttons}}
{\footnotesize\ttfamily uint8\+\_\+t driver\+::\+Mouse\+Driver\+::buttons\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a06701_source_l00044}{44}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.

\Hypertarget{a07612_a2877a9f46dd83a5f05f17fd83a0a7725}\label{a07612_a2877a9f46dd83a5f05f17fd83a0a7725} 
\index{driver::MouseDriver@{driver::MouseDriver}!commandPort@{commandPort}}
\index{commandPort@{commandPort}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{commandPort}{commandPort}}
{\footnotesize\ttfamily \mbox{\hyperlink{a07644}{hardware\+\_\+communication\+::\+Port8\+Bit}} driver\+::\+Mouse\+Driver\+::command\+Port\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a06701_source_l00041}{41}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.

\Hypertarget{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046}\label{a07612_a8e30a6f6c5839fcf9c3ab63aa167d046} 
\index{driver::MouseDriver@{driver::MouseDriver}!dataPort@{dataPort}}
\index{dataPort@{dataPort}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{dataPort}{dataPort}}
{\footnotesize\ttfamily \mbox{\hyperlink{a07644}{hardware\+\_\+communication\+::\+Port8\+Bit}} driver\+::\+Mouse\+Driver\+::data\+Port\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a06701_source_l00040}{40}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.

\Hypertarget{a07628_ae86f4eae0ce9272b2027d44bdfd71e33}\label{a07628_ae86f4eae0ce9272b2027d44bdfd71e33} 
\index{driver::MouseDriver@{driver::MouseDriver}!interrupt\_manager@{interrupt\_manager}}
\index{interrupt\_manager@{interrupt\_manager}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{interrupt\_manager}{interrupt\_manager}}
{\footnotesize\ttfamily \mbox{\hyperlink{a06692_a6c5563315b1a2f5c67ae8b78d06e3c7f}{Interrupt\+Manager}}\texorpdfstring{$\ast$}{*} hardware\+\_\+communication\+::\+Interrupt\+Handler\+::interrupt\+\_\+manager\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [inherited]}}



Definition at line \mbox{\hyperlink{a06692_source_l00026}{26}} of file \mbox{\hyperlink{a06692_source}{kinterrupt.\+hpp}}.



Referenced by \mbox{\hyperlink{a06620_source_l00011}{hardware\+\_\+communication\+::\+Interrupt\+Handler\+::\+Interrupt\+Handler()}}.

\Hypertarget{a07628_afeede822d3e98957e76e627a54ec2f7a}\label{a07628_afeede822d3e98957e76e627a54ec2f7a} 
\index{driver::MouseDriver@{driver::MouseDriver}!interruptNumber@{interruptNumber}}
\index{interruptNumber@{interruptNumber}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{interruptNumber}{interruptNumber}}
{\footnotesize\ttfamily uint8\+\_\+t hardware\+\_\+communication\+::\+Interrupt\+Handler\+::interrupt\+Number\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [inherited]}}



Definition at line \mbox{\hyperlink{a06692_source_l00025}{25}} of file \mbox{\hyperlink{a06692_source}{kinterrupt.\+hpp}}.



Referenced by \mbox{\hyperlink{a06620_source_l00011}{hardware\+\_\+communication\+::\+Interrupt\+Handler\+::\+Interrupt\+Handler()}}.

\Hypertarget{a07612_a804f5657a062e0a18f3b56781f884c66}\label{a07612_a804f5657a062e0a18f3b56781f884c66} 
\index{driver::MouseDriver@{driver::MouseDriver}!mouseEventHandler@{mouseEventHandler}}
\index{mouseEventHandler@{mouseEventHandler}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{mouseEventHandler}{mouseEventHandler}}
{\footnotesize\ttfamily \mbox{\hyperlink{a07608}{Mouse\+Event\+Handler}}\texorpdfstring{$\ast$}{*} driver\+::\+Mouse\+Driver\+::mouse\+Event\+Handler\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a06701_source_l00045}{45}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.



Referenced by \mbox{\hyperlink{a06629_source_l00022}{Mouse\+Driver()}}.

\Hypertarget{a07612_a313426dd9aa1af1540cbffc2e77c58c1}\label{a07612_a313426dd9aa1af1540cbffc2e77c58c1} 
\index{driver::MouseDriver@{driver::MouseDriver}!offset@{offset}}
\index{offset@{offset}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{offset}{offset}}
{\footnotesize\ttfamily uint8\+\_\+t driver\+::\+Mouse\+Driver\+::offset\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a06701_source_l00043}{43}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.

\Hypertarget{a07612_a4a671e7e2b235f6bec473cb960401bd6}\label{a07612_a4a671e7e2b235f6bec473cb960401bd6} 
\index{driver::MouseDriver@{driver::MouseDriver}!old\_char\_under\_mouse\_pointer@{old\_char\_under\_mouse\_pointer}}
\index{old\_char\_under\_mouse\_pointer@{old\_char\_under\_mouse\_pointer}!driver::MouseDriver@{driver::MouseDriver}}
\doxyparagraph{\texorpdfstring{old\_char\_under\_mouse\_pointer}{old\_char\_under\_mouse\_pointer}}
{\footnotesize\ttfamily uint16\+\_\+t driver\+::\+Mouse\+Driver\+::old\+\_\+char\+\_\+under\+\_\+mouse\+\_\+pointer\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{a06701_source_l00048}{48}} of file \mbox{\hyperlink{a06701_source}{kmouse.\+hpp}}.



Referenced by \mbox{\hyperlink{a06647_source_l00043}{Mouse\+Event\+Handler\+\_\+for\+\_\+kernel\+::on\+Mouse\+Move()}}, and \mbox{\hyperlink{a06611_source_l00041}{print\+Char\+Str()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
libk\+\_\+header/driver/\mbox{\hyperlink{a06701}{kmouse.\+hpp}}\item 
libk\+\_\+src/driver/\mbox{\hyperlink{a06629}{kmouse.\+cpp}}\end{DoxyCompactItemize}
