<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_a19255" xml:lang="en-US">
<title>MouseEventHandler_for_kernel</title>
<indexterm><primary>MouseEventHandler_for_kernel</primary></indexterm>
Inheritance diagram for MouseEventHandler_for_kernel:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../db/d57/a19254.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Collaboration diagram for MouseEventHandler_for_kernel:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../d4/df6/a19253.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Public Member Functions    </title>
        <itemizedlist>
            <listitem><para><link linkend="_a19255_1a41f57ab9baa5850e39086362ce44b1cb">MouseEventHandler_for_kernel</link> ()</para>
</listitem>
            <listitem><para><link linkend="_a19255_1aa96e9bf8dce2b60b7f86577c3a74455d">~MouseEventHandler_for_kernel</link> ()</para>
</listitem>
            <listitem><para>void <link linkend="_a19255_1ae860a16e70322e5c4bb01e1108e50bb1">onMouseDown</link> (uint8_t button) override</para>
</listitem>
            <listitem><para>void <link linkend="_a19255_1adbb4c4e2814b335579119c324313f652">onMouseMove</link> (int8_t delta_x, int8_t delta_y) override</para>
</listitem>
            <listitem><para>void <link linkend="_a19255_1afca536c2187a65da265daa2d2af75d4d">onMouseUp</link> (uint8_t button) override</para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Detailed Description</title>
<para>
Definition at line <link linkend="_a18362_source_1l00027">27</link> of file <link linkend="_a18362_source">kernel.cpp</link>.</para>
</section>
<section>
<title>Constructor &amp; Destructor Documentation</title>
<anchor xml:id="_a19255_1a41f57ab9baa5850e39086362ce44b1cb"/><section>
    <title>MouseEventHandler_for_kernel()</title>
<indexterm><primary>MouseEventHandler_for_kernel</primary><secondary>MouseEventHandler_for_kernel</secondary></indexterm>
<indexterm><primary>MouseEventHandler_for_kernel</primary><secondary>MouseEventHandler_for_kernel</secondary></indexterm>
<para><computeroutput>MouseEventHandler_for_kernel::MouseEventHandler_for_kernel ( )<computeroutput>[inline]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a18362_source_1l00029">29</link> of file <link linkend="_a18362_source">kernel.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00029 {}
</programlisting></section>
<anchor xml:id="_a19255_1aa96e9bf8dce2b60b7f86577c3a74455d"/><section>
    <title>~MouseEventHandler_for_kernel()</title>
<indexterm><primary>~MouseEventHandler_for_kernel</primary><secondary>MouseEventHandler_for_kernel</secondary></indexterm>
<indexterm><primary>MouseEventHandler_for_kernel</primary><secondary>~MouseEventHandler_for_kernel</secondary></indexterm>
<para><computeroutput>MouseEventHandler_for_kernel::~MouseEventHandler_for_kernel ( )<computeroutput>[inline]</computeroutput></computeroutput></para><para>
Definition at line <link linkend="_a18362_source_1l00030">30</link> of file <link linkend="_a18362_source">kernel.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00030 {}
</programlisting></section>
</section>
<section>
<title>Member Function Documentation</title>
<anchor xml:id="_a19255_1ae860a16e70322e5c4bb01e1108e50bb1"/><section>
    <title>onMouseDown()</title>
<indexterm><primary>onMouseDown</primary><secondary>MouseEventHandler_for_kernel</secondary></indexterm>
<indexterm><primary>MouseEventHandler_for_kernel</primary><secondary>onMouseDown</secondary></indexterm>
<para><computeroutput>void MouseEventHandler_for_kernel::onMouseDown (uint8_t button)<computeroutput>[inline]</computeroutput>, <computeroutput>[override]</computeroutput>, <computeroutput>[virtual]</computeroutput></computeroutput></para><para>
Implements <link linkend="_a19323_1a2f12c5f63356c3045fd6cb46fd89374f">driver::MouseEventHandler</link>.</para>
<para>
Definition at line <link linkend="_a18362_source_1l00032">32</link> of file <link linkend="_a18362_source">kernel.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(void)&#32;button;
00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a18432_1a9d1f0f838e646660db6d9284725c2b4c">basic::update_cursor</link>(<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>,&#32;<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>);
00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;printf(&quot;Mouse&#32;Down:&#32;%d\n&quot;,&#32;button);</emphasis>
00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
</programlisting><para>
References <link linkend="_a18416_source_1l00050">driver::MouseDriver::__mouse_x_</link>, <link linkend="_a18416_source_1l00050">driver::MouseDriver::__mouse_y_</link>, and <link linkend="_a18326_source_1l00025">basic::update_cursor()</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../d0/d04/a19255_ae860a16e70322e5c4bb01e1108e50bb1_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a19255_1adbb4c4e2814b335579119c324313f652"/><section>
    <title>onMouseMove()</title>
<indexterm><primary>onMouseMove</primary><secondary>MouseEventHandler_for_kernel</secondary></indexterm>
<indexterm><primary>MouseEventHandler_for_kernel</primary><secondary>onMouseMove</secondary></indexterm>
<para><computeroutput>void MouseEventHandler_for_kernel::onMouseMove (int8_t delta_x, int8_t delta_y)<computeroutput>[inline]</computeroutput>, <computeroutput>[override]</computeroutput>, <computeroutput>[virtual]</computeroutput></computeroutput></para><para>
Implements <link linkend="_a19323_1a68f635b3b65f927d37d4e0835f7e0b30">driver::MouseEventHandler</link>.</para>
<para>
Definition at line <link linkend="_a18362_source_1l00043">43</link> of file <link linkend="_a18362_source">kernel.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">static</emphasis>&#32;uint16_t*&#32;video_memory&#32;=&#32;(uint16_t*)&#32;0xb8000;
00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;deltaTod=0.2;
00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">float</emphasis>&#32;dx=0,&#32;dy=0;
00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dx+=delta_x*deltaTod;
00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dy+=delta_y*deltaTod;
00049 
00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Restore&#32;the&#32;character&#32;that&#32;was&#32;previously&#32;under&#32;the&#32;mouse&#32;pointer</emphasis>
00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>&#32;&gt;=&#32;0&#32;&amp;&amp;&#32;<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>&#32;&gt;=&#32;0)&#32;{
00052 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;video_memory[80&#32;*&#32;<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>&#32;+&#32;<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>]&#32;=&#32;<link linkend="_a19327_1a4a671e7e2b235f6bec473cb960401bd6">driver::MouseDriver::old_char_under_mouse_pointer</link>;
00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Update&#32;mouse&#32;coordinates&#32;based&#32;on&#32;delta</emphasis>
00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(dx&#32;&gt;&#32;1)&#32;{
00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>++;
00057 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dx=0;
00058 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">if</emphasis>(dx&#32;&lt;&#32;-1)&#32;{
00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>--;
00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dx=0;
00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(dy&#32;&gt;&#32;1)&#32;{
00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>++;
00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dy=0;
00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="keywordflow">if</emphasis>(dy&#32;&lt;&#32;-1)&#32;{
00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>--;
00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dy=0;
00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
00072 
00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Clamp&#32;coordinates&#32;to&#32;screen&#32;boundaries</emphasis>
00074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>&#32;&lt;&#32;0)&#32;<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>&#32;=&#32;0;
00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>&#32;&gt;=&#32;80)&#32;<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>&#32;=&#32;79;
00076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>&#32;&lt;&#32;0)&#32;<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>&#32;=&#32;0;
00077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>&#32;&gt;=&#32;25)&#32;<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>&#32;=&#32;24;
00078 
00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Save&#32;the&#32;character&#32;at&#32;the&#32;new&#32;position&#32;and&#32;draw&#32;the&#32;pointer&#32;over&#32;it</emphasis>
00080 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a19327_1a4a671e7e2b235f6bec473cb960401bd6">driver::MouseDriver::old_char_under_mouse_pointer</link>&#32;=&#32;video_memory[80&#32;*&#32;<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>&#32;+&#32;<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>];
00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;video_memory[80&#32;*&#32;<link linkend="_a19327_1aa02009b37420687ef18db8a05ff9181f">driver::MouseDriver::__mouse_y_</link>&#32;+&#32;<link linkend="_a19327_1ac2077f6309c79d5f585fb966b57fe065">driver::MouseDriver::__mouse_x_</link>]&#32;=&#32;<link linkend="_a19327_1a1a2a455ca7146dea3148afa8cb6c9ed5">driver::MouseDriver::mouse_block_video_mem_value</link>(<link linkend="_a19327_1a4a671e7e2b235f6bec473cb960401bd6">driver::MouseDriver::old_char_under_mouse_pointer</link>,&#32;<link linkend="_a18416_1a637dd833f5f7af42afa1f42349a4d89e">MOUSE_POINTER_COLOR</link>);
00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
</programlisting><para>
References <link linkend="_a18416_source_1l00050">driver::MouseDriver::__mouse_x_</link>, <link linkend="_a18416_source_1l00050">driver::MouseDriver::__mouse_y_</link>, <link linkend="_a18344_source_1l00017">driver::MouseDriver::mouse_block_video_mem_value()</link>, <link linkend="_a18416_source_1l00025">MOUSE_POINTER_COLOR</link>, and <link linkend="_a18416_source_1l00048">driver::MouseDriver::old_char_under_mouse_pointer</link>.</para>
Here is the call graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="../../d0/d04/a19255_adbb4c4e2814b335579119c324313f652_cgraph.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
<anchor xml:id="_a19255_1afca536c2187a65da265daa2d2af75d4d"/><section>
    <title>onMouseUp()</title>
<indexterm><primary>onMouseUp</primary><secondary>MouseEventHandler_for_kernel</secondary></indexterm>
<indexterm><primary>MouseEventHandler_for_kernel</primary><secondary>onMouseUp</secondary></indexterm>
<para><computeroutput>void MouseEventHandler_for_kernel::onMouseUp (uint8_t button)<computeroutput>[inline]</computeroutput>, <computeroutput>[override]</computeroutput>, <computeroutput>[virtual]</computeroutput></computeroutput></para><para>
Implements <link linkend="_a19323_1a09b77fe86bfa79313b5c5b91d09eb514">driver::MouseEventHandler</link>.</para>
<para>
Definition at line <link linkend="_a18362_source_1l00038">38</link> of file <link linkend="_a18362_source">kernel.cpp</link>.</para>
<programlisting linenumbering="unnumbered">00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(void)&#32;button;
00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;printf(&quot;Mouse&#32;Up:&#32;%d\n&quot;,&#32;button);</emphasis>
00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
</programlisting></section>
<para>
The documentation for this class was generated from the following file:</para>
kernel_src/<link linkend="_a18362">kernel.cpp</link></section>
</section>
